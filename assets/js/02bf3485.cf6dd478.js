"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[40682],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(n),m=o,h=d["".concat(l,".").concat(m)]||d[m]||p[m]||i;return n?a.createElement(h,r(r({ref:t},c),{},{components:n})):a.createElement(h,r({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,r[1]=s;for(var u=2;u<i;u++)r[u]=n[u];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},42455:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var a=n(87462),o=(n(67294),n(3905));const i={},r="Lab: Create AWS EC2 instance",s={unversionedId:"foundations/cloud/lab-create-your-first-ec2-instance-linux/README",id:"foundations/cloud/lab-create-your-first-ec2-instance-linux/README",title:"Lab: Create AWS EC2 instance",description:"Description",source:"@site/docs/01-foundations/cloud/lab-create-your-first-ec2-instance-linux/README.md",sourceDirName:"01-foundations/cloud/lab-create-your-first-ec2-instance-linux",slug:"/foundations/cloud/lab-create-your-first-ec2-instance-linux/",permalink:"/docs/foundations/cloud/lab-create-your-first-ec2-instance-linux/",draft:!1,tags:[],version:"current",lastUpdatedBy:"sparsh",lastUpdatedAt:1681451444,formattedLastUpdatedAt:"Apr 14, 2023",frontMatter:{},sidebar:"docs",previous:{title:"Lab: Create AWS VPC",permalink:"/docs/foundations/cloud/lab-create-your-first-vpc/"},next:{title:"GCP",permalink:"/docs/category/gcp"}},l={},u=[{value:"Description",id:"description",level:2},{value:"Lab Objectives",id:"lab-objectives",level:2},{value:"Lab Prerequisites",id:"lab-prerequisites",level:2},{value:"Steps",id:"steps",level:2},{value:"Creating an EC2 Instance",id:"creating-an-ec2-instance",level:3},{value:"Converting a PEM Key to a PPK Key (Windows Users Only)",id:"converting-a-pem-key-to-a-ppk-key-windows-users-only",level:3},{value:"Connecting to an Instance using SSH",id:"connecting-to-an-instance-using-ssh",level:3},{value:"Getting the EC2 Instance Metadata",id:"getting-the-ec2-instance-metadata",level:3},{value:"Terminating an EC2 Instance",id:"terminating-an-ec2-instance",level:3}],c={toc:u};function p(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"lab-create-aws-ec2-instance"},"Lab: Create AWS EC2 instance"),(0,o.kt)("h2",{id:"description"},"Description"),(0,o.kt)("p",null,"Amazon Elastic Compute Cloud (EC2) is one of the most popular AWS services. EC2 allows you to launch different types of cloud instances and pay for them with a pay-per-use model. EC2 allows you to have operating\xa0system level control of your computing resources while running in Amazon's computing environment. Amazon EC2 reduces the time required to obtain and boot new server instances from days or weeks to minutes. This allows you to quickly scale capacity, both up and down, as your computing requirements change. Amazon EC2 allows you to build\xa0and configure your instances as you like, from your desired operating system to your applications."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/62965911/219856832-5dc3a360-cbb1-4ac2-9e01-6784fb46256b.svg",alt:"env drawio"})),(0,o.kt)("p",null,"By completing this Hands-on Lab, you will be able to launch and configure your first Amazon EC2 instance using the AWS Management Console."),(0,o.kt)("h2",{id:"lab-objectives"},"Lab Objectives"),(0,o.kt)("p",null,"Upon completion of this lab, you will be able to:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Configure and launch an instance in EC2"),(0,o.kt)("li",{parentName:"ul"},"Understand the Instance States and other critical instance information"),(0,o.kt)("li",{parentName:"ul"},"Generate and use a Secure Shell (SSH) public/private key pair"),(0,o.kt)("li",{parentName:"ul"},"Connect to a running Linux instance using an SSH client"),(0,o.kt)("li",{parentName:"ul"},"Extract metadata about your running instance"),(0,o.kt)("li",{parentName:"ul"},"Terminate an instance")),(0,o.kt)("h2",{id:"lab-prerequisites"},"Lab Prerequisites"),(0,o.kt)("p",null,"You should be familiar with:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Conceptual understanding of EC2"),(0,o.kt)("li",{parentName:"ul"},"Conceptual understanding of SSH client software, protocol, and keys"),(0,o.kt)("li",{parentName:"ul"},"Some Linux shell/command understanding is helpful, but not required")),(0,o.kt)("h2",{id:"steps"},"Steps"),(0,o.kt)("h3",{id:"creating-an-ec2-instance"},"Creating an EC2 Instance"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Click the\xa0",(0,o.kt)("strong",{parentName:"li"},"Launch instance")," drop-down and click\xa0",(0,o.kt)("strong",{parentName:"li"},"Launch instance.")," You will be directed to the\xa0Launch an instance\xa0wizard."),(0,o.kt)("li",{parentName:"ul"},"In the\xa0",(0,o.kt)("strong",{parentName:"li"},"Name and tags"),"\xa0section, an optional name can be added that will create a tag that will have the key of\xa0",(0,o.kt)("strong",{parentName:"li"},"Name"),". Additional tags can also be created here.\xa0Tags are specified as Key/Value pairs. They are not mandatory although it is useful to tag all of your AWS resources in production environments to stay organized. You can leave the tags empty for this lab."),(0,o.kt)("li",{parentName:"ul"},"In the\xa0",(0,o.kt)("strong",{parentName:"li"},"Application and OS Images"),"\xa0section, select the\xa0",(0,o.kt)("strong",{parentName:"li"},"Amazon Linux"),"\xa0option under\xa0",(0,o.kt)("strong",{parentName:"li"},"Quick Start.")),(0,o.kt)("li",{parentName:"ul"},"As you can see, Amazon provides many AMIs, including the most popular versions of Linux and Windows, often in 32-bit and 64-bit variants. Look at the supporting text to find out what other software packages and development languages are already installed on the image (such as Perl, Python, Java, etc.). You can think of AMIs as the blueprint or DNA of the instance you plan to launch."),(0,o.kt)("li",{parentName:"ul"},"In the\xa0",(0,o.kt)("strong",{parentName:"li"},"Instance Type"),"\xa0section, you should\xa0not\xa0change any options.\xa0Simply make sure the default\xa0",(0,o.kt)("strong",{parentName:"li"},"t2.micro")," is selected. For whatever Instance Type is selected, the\xa0",(0,o.kt)("strong",{parentName:"li"},"Currently selected"),"\xa0list provides a helpful summary of hardware resources (such as the CPU type, number of virtual CPUs, memory, and pricing)."),(0,o.kt)("li",{parentName:"ul"},"In the\xa0",(0,o.kt)("strong",{parentName:"li"},"Key pair"),"\xa0section, click on\xa0",(0,o.kt)("strong",{parentName:"li"},"Create new key pair"),", enter\xa0",(0,o.kt)("em",{parentName:"li"},"keypair"),"\xa0for the\xa0",(0,o.kt)("strong",{parentName:"li"},"Key pair name"),", keep the default value for\xa0",(0,o.kt)("strong",{parentName:"li"},"Key pair type")," and\xa0",(0,o.kt)("strong",{parentName:"li"},"Private key file format"),", and click\xa0",(0,o.kt)("strong",{parentName:"li"},"Create key pair"),". The key pair will begin downloading a file named keypair.pem on your local system. It contains a private key that you can use to connect to\xa0the EC2 instance via SSH.\xa0"),(0,o.kt)("li",{parentName:"ul"},"In the\xa0",(0,o.kt)("strong",{parentName:"li"},"Network settings"),"\xa0section, read the supporting text under\xa0",(0,o.kt)("strong",{parentName:"li"},"Security groups (Firewall)"),", and ensure the\xa0",(0,o.kt)("strong",{parentName:"li"},"Allow SSH traffic from"),"\xa0box is checked and\xa0",(0,o.kt)("strong",{parentName:"li"},"Anywhere"),"\xa0is selected."),(0,o.kt)("li",{parentName:"ul"},"NOTE - The\xa0",(0,o.kt)("strong",{parentName:"li"},"Warning"),"\xa0from AWS is letting you know the default configuration for the security group that is about to be created will grant SSH access from any source IP address (0.0.0.0/0). Production environments\xa0should be more restrictive. For the purposes of this lab, this configuration is fine."),(0,o.kt)("li",{parentName:"ul"},"TIP - A handy feature for testing purposes is to select\xa0",(0,o.kt)("strong",{parentName:"li"},"My IP"),"\xa0from the\xa0",(0,o.kt)("strong",{parentName:"li"},"Source"),"\xa0drop-down. That will restrict SSH access to only your current IP address. In network environments with Dynamic Host Configuration Protocol (DHCP), multiple routers or firewalls, and other features that make IP addresses subject to change, this setting is not a permanent security feature. However, it is sometimes a helpful feature while you perform various tests using your EC2 instance."),(0,o.kt)("li",{parentName:"ul"},"In the\xa0",(0,o.kt)("strong",{parentName:"li"},"Configure storage"),"\xa0section, ensure the default values of\xa0",(0,o.kt)("strong",{parentName:"li"},"8 GiB"),"\xa0and\xa0",(0,o.kt)("strong",{parentName:"li"},"gp2 Root volume"),"\xa0is selected. The default values work fine here. There is no need to add additional volumes, encrypt volumes, or change any other settings. Simply note this is where you can change storage settings if needed."),(0,o.kt)("li",{parentName:"ul"},"Click on\xa0",(0,o.kt)("strong",{parentName:"li"},"Advanced details"),"\xa0to expand the section and take a minute to look over the various configurations.\xa0"),(0,o.kt)("li",{parentName:"ul"},"You can configure many different options on this page of the wizard, but it's best to keep your first launch simple. Skim the different fields, but leave the default values. If you are particularly interested in any particular field,\xa0hover over the\xa0",(0,o.kt)("strong",{parentName:"li"},"i"),"\xa0information icon next to it for a basic description. \xa0The information icon is a useful feature for easing your learning curve while using the AWS Console. In many cases, the help text also includes a link to related documentation. To summarize a few key points:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"You will launch a single instance"),(0,o.kt)("li",{parentName:"ul"},"The EC2 service will launch the instance into one of several subnets in the US West (Oregon) region"))),(0,o.kt)("li",{parentName:"ul"},"Review the\xa0",(0,o.kt)("strong",{parentName:"li"},"Summary"),"\xa0section, and click\xa0",(0,o.kt)("strong",{parentName:"li"},"Launch instance"),"\xa0when ready. A confirmation page will let you know that your instance is launching."),(0,o.kt)("li",{parentName:"ul"},"Click the\xa0",(0,o.kt)("strong",{parentName:"li"},"View all instances")," (lower right) to close the confirmation page and return to the\xa0",(0,o.kt)("strong",{parentName:"li"},"Instances"),"\xa0screen of the EC2 console."),(0,o.kt)("li",{parentName:"ul"},"You can view the status of your instance on the\xa0",(0,o.kt)("strong",{parentName:"li"},"Instances"),"\xa0screen of the EC2 console:")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/62965911/219857222-a0a49d1c-e90a-4d74-b186-32c440e01fa3.png",alt:"image-20220531143919-16-b15f4d18-4066-4145-ace4-2c3cd5b370f0"})),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Warning"),": If you see the error\xa0compute-optimizer:GetEnrollmentStatus, just ignore it, it doesn't prevent the lab from working."),(0,o.kt)("p",null,"The\xa0",(0,o.kt)("strong",{parentName:"p"},"Details"),"\xa0tab contains a wealth of information on your instance. When you launch an instance, its initial\xa0",(0,o.kt)("strong",{parentName:"p"},"Instance state"),"\xa0defaults to\xa0Pending. After the instance starts, its\xa0",(0,o.kt)("strong",{parentName:"p"},"Instance state"),"\xa0transitions to\xa0Running, and it receives a\xa0Public IPv4\xa0address and\xa0",(0,o.kt)("strong",{parentName:"p"},"Public IPv4 DNS"),"\xa0name. It typically takes about 30 seconds for the AWS Linux instance to transition to a running state."),(0,o.kt)("p",null,"Congratulations...you just launched your first EC2 instance!"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Summary")),(0,o.kt)("p",null,"In this lab step, you launched an EC2 instance. You learned key areas of configuration for your EC2 instance using the Launch Instance wizard. Although many configuration options were left at their default values, you should have a pretty good understanding of the type of configuration options available to you within the wizard. Now that you have a running instance, you can treat it as any other Linux host. That is, you can connect to it, install and configure software, develop applications, and other tasks. You also learned how to generate your own SSH key pair for connecting to a running Linux instance. It is important to learn the mechanics behind accomplishing this."),(0,o.kt)("h3",{id:"converting-a-pem-key-to-a-ppk-key-windows-users-only"},"Converting a PEM Key to a PPK Key (Windows Users Only)"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Note: This step is\xa0only required for Windows users. If you are using Mac or Linux you can directly use the PEM file you downloaded.\xa0Proceed to the next lab step if you are running Mac or Linux.")),(0,o.kt)("p",null,"Connecting to a running Linux instance using an SSH client requires a public/private key pair. Windows does not ship with an SSH client. PuTTY is a common SSH client, which is free to download and use. However, PuTTY does not support the PEM (Privacy Enhanced Mail) key format. The key downloaded from AWS is PEM format, so it must be converted to PPK (PuTTY Private Key). Fortunately, PuTTYgen converts PEM key files to PPK format. PuTTYgen is also free to download and use."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Instructions")),(0,o.kt)("p",null,"1","."," If you do not already have PuTTYgen, download the PuTTYgen executable from the following link:\xa0",(0,o.kt)("a",{parentName:"p",href:"https://the.earth.li/~sgtatham/putty/latest/w32/puttygen.exe",title:"PuTTYgen"},"PuTTYgen"),"."),(0,o.kt)("p",null,"2","."," Start PuTTYgen. (no installation is required)"),(0,o.kt)("p",null,"3","."," Click\xa0",(0,o.kt)("strong",{parentName:"p"},"Load"),"\xa0and browse to the location of the private key file that you want to convert (for example keypair.pem). By default, PuTTYgen displays only files with a .ppk extension. You'll need to change the drop-down adjacent to\xa0",(0,o.kt)("strong",{parentName:"p"},"File name"),"\xa0to\xa0",(0,o.kt)("strong",{parentName:"p"},"All Files"),"\xa0in order to see your PEM file."),(0,o.kt)("p",null,"4","."," Select your .pem key file and click\xa0",(0,o.kt)("strong",{parentName:"p"},"Open"),". PuTTYgen displays the success message."),(0,o.kt)("p",null,"5","."," Click\xa0",(0,o.kt)("strong",{parentName:"p"},"OK"),". PuTTYgen displays a dialog with information about the key you loaded, including the public key and the fingerprint."),(0,o.kt)("p",null,"6","."," Click\xa0",(0,o.kt)("strong",{parentName:"p"},"Save private key"),"\xa0to save the key in PuTTY's format. Do NOT select a passphrase. (Additional security is not required.) Be sure to save your private key somewhere secure."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Summary")),(0,o.kt)("p",null,"Now you are ready to use PuTTY for connecting to the running Linux instance created in a previous lab step. The PuTTY SSH client will use the key pair format it requires for the private key to connect to the instance. The running Linux instance already has the public key on it."),(0,o.kt)("h3",{id:"connecting-to-an-instance-using-ssh"},"Connecting to an Instance using SSH"),(0,o.kt)("p",null,"In order to manage a remote Linux server, you must employ an\xa0SSH client. Secure Shell (SSH) is a cryptographic network protocol for securing data communication. It establishes a secure channel over an insecure network. Common applications include remote command-line login and remote command execution."),(0,o.kt)("p",null,"Linux distributions and macOS ship with a functional SSH client that accepts standard PEM keys. Windows does not ship with an SSH client. Therefore, this lab step includes instructions for users running Linux/macOS\xa0",(0,o.kt)("em",{parentName:"p"},"and"),"\xa0Windows on their local host. Only one of them is required depending on your local operating system."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Instructions (Linux / macOS Users)")),(0,o.kt)("p",null,"Open your\xa0Terminal\xa0application and Run the following ssh command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"ssh -i /*path/to/your/keypair.pem*\xa0user@server-ip\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"server-ip"),"\xa0is the Public IP of your server, found on the\xa0",(0,o.kt)("strong",{parentName:"li"},"Details"),"\xa0tab of the running instance in the EC2 Console"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"user"),"\xa0is the remote system user (ec2-user for Amazon Linux) that will be used for the remote authentication. In this lab, you must use\xa0",(0,o.kt)("strong",{parentName:"li"},"ec2-user"),".")),(0,o.kt)("p",null,"Note that the Amazon Linux AMIs typically use\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"ec2-user"),"\xa0as a username. Other popular Linux distributions use the following user names:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Debian:\xa0admin"),(0,o.kt)("li",{parentName:"ul"},"RedHat: ec2-user"),(0,o.kt)("li",{parentName:"ul"},"Ubuntu: ubuntu")),(0,o.kt)("p",null,'Assuming that you selected the Amazon Linux AMI, your assigned public IP is 123.123.123.123, and your keypair (named "keypair.pem") is stored in /home/youruser/keypair.pem, the example command to run is:\xa0'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"ssh -i /home/youruser/keypair.pem\xa0<ec2-user@123.123.123.123>\n")),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Note"),": You can find the Public IP under the AWS EC2 console, and\xa0choosing the available EC2 instance."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"*Important!"),"\xa0Your SSH client may refuse to start the connection, warning that the key file is unprotected. You should deny the file access to any other system users by changing its permissions. From the directory where the public key is stored on your local machine, issue the following command and then try again:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"chmod 400 \xa0/home/youruser/keypair.pem\n")),(0,o.kt)("p",null,"The change mode (",(0,o.kt)("inlineCode",{parentName:"p"},"chmod"),") command shown above will change the permissions on your\xa0private key file so only you can read it. No other users on the system can modify it, or even read it."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Instructions (Windows Users)")),(0,o.kt)("p",null,"Windows has no SSH client, so you must install one. This part of the lab step will use PuTTY (freely available\xa0",(0,o.kt)("a",{parentName:"p",href:"http://www.putty.org/"},"here"),"\xa0on their website) and a previously converted PEM key (converted\xa0to PPK using PuTTYgen)."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Open\xa0PuTTY and insert the EC2 instance public IP Address in the\xa0",(0,o.kt)("strong",{parentName:"li"},"Host Name"),"\xa0field.")),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Note"),": You can find the Public IP under the AWS EC2 console, and\xa0choosing the available EC2 instance."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Navigate to\xa0",(0,o.kt)("strong",{parentName:"li"},"Connection\xa0"),">",(0,o.kt)("strong",{parentName:"li"},"\xa0SSH\xa0"),">",(0,o.kt)("strong",{parentName:"li"},"\xa0Auth\xa0"),">",(0,o.kt)("strong",{parentName:"li"},"\xa0Credentials"),"\xa0in the left pane, click\xa0",(0,o.kt)("strong",{parentName:"li"},"Browse..."),"\xa0under\xa0",(0,o.kt)("strong",{parentName:"li"},"Private key file for authentication"),", double-click the PPK file you created with PuTTYgen, and click\xa0",(0,o.kt)("strong",{parentName:"li"},"Open."))),(0,o.kt)("p",null,"After a few seconds, you will see the authentication form."),(0,o.kt)("p",null,"3","."," Login as\xa0",(0,o.kt)("em",{parentName:"p"},"ec2-user"),"\xa0and you will see the EC2 server welcome banner and be placed in the Linux shell."),(0,o.kt)("h3",{id:"getting-the-ec2-instance-metadata"},"Getting the EC2 Instance Metadata"),(0,o.kt)("p",null,"Now you are ready to send the first commands to your EC2 Linux instance. In this lab step, you will check the EC2 instance metadata, which is\xa0only available from within the instance itself. Instance metadata\xa0is data about your instance that you can use to configure or manage the running instance. In order to obtain the instance metadata you will use the curl utility. cURL (Client URL) is a free, open-source project, and already loaded on your instance.\xa0cURL is a great way to transfer data using one of its supported protocols (such as HTTP)."),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Note"),": The IP address used below (169.254.169.254) is a special use address to return metadata information tied to EC2 instances."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"List all instance metadata by issuing the following command:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'curl -w "\\n" http://169.254.169.254/latest/meta-data/\n')),(0,o.kt)("p",null,'To extract specific metadata append keywords to the end of the http path URL provided in the curl request. For example, you can easily check the list of security groups attached to the instance, its ID, the hostname, or the AMI ID. The "-w" command-line option tells curl to write the output to standard output (STDOUT).'),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Enter the following commands to extract specific metadata associated with your running instance:\xa0")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'curl -w "\\n" http://169.254.169.254/latest/meta-data/security-groups\ncurl -w "\\n" http://169.254.169.254/latest/meta-data/ami-id\ncurl -w "\\n" http://169.254.169.254/latest/meta-data/hostname\ncurl -w "\\n" http://169.254.169.254/latest/meta-data/instance-id\ncurl -w "\\n" http://169.254.169.254/latest/meta-data/instance-type\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Enter the following command to get the public SSH key of the attached key pair using the public-keys metadata:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'curl -w "\\n" http://169.254.169.254/latest/meta-data/public-keys/0/openssh-key\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Summary\xa0")),(0,o.kt)("p",null,"In this lab step, you learned how you can obtain instance metadata. This metadata can be extremely useful if you want to automate the setup of new instances."),(0,o.kt)("h3",{id:"terminating-an-ec2-instance"},"Terminating an EC2 Instance"),(0,o.kt)("p",null,"AWS bills EC2 usage per second in most cases. It's good to learn how to stop or terminate an instance from the AWS console.\xa0When you are sure that you no longer need an instance, you can terminate it. The specific instance and the data on the\xa0root volume (system disk) is not recoverable (by default) however. So be sure you don't need it before terminating an instance. If you stop an instance, you can start it again later (and access data on all the\xa0disks). In this lab step, you will terminate a running EC2 instance."),(0,o.kt)("p",null,"1",".","\xa0Return to the EC2\xa0console in your browser."),(0,o.kt)("p",null,"2",".","\xa0Click\xa0",(0,o.kt)("strong",{parentName:"p"},"Instances"),"\xa0in the left navigation pane. Select the running instance, then click the dropdown menu at the top middle of the page\xa0",(0,o.kt)("strong",{parentName:"p"},"Instance State > Terminate instance.")),(0,o.kt)("p",null,"3","."," Read the\xa0",(0,o.kt)("strong",{parentName:"p"},"Warning"),"\xa0from AWS, then click the\xa0",(0,o.kt)("strong",{parentName:"p"},"Terminate"),"\xa0button in the\xa0",(0,o.kt)("strong",{parentName:"p"},"Terminate Instances"),"\xa0confirmation dialog."),(0,o.kt)("p",null,"\xa04. Watch as the\xa0",(0,o.kt)("strong",{parentName:"p"},"Instance State"),"\xa0transitions from\xa0",(0,o.kt)("strong",{parentName:"p"},"running"),"\xa0to\xa0",(0,o.kt)("strong",{parentName:"p"},"shutting-down"),"\xa0and finally to\xa0",(0,o.kt)("strong",{parentName:"p"},"terminated.")),(0,o.kt)("p",null,"Your instance and the data stored on its root volume are completely destroyed.\xa0"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Summary")),(0,o.kt)("p",null,"In this lab step, you terminated your running EC2 Linux instance.\xa0Any open connections to the instance were severed. \xa0You learned more about the state of your instance as it transitions, along with the main difference between stopping and terminating an instance."))}p.isMDXComponent=!0}}]);