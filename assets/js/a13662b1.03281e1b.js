"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[27876],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),u=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},d=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),p=u(a),h=r,y=p["".concat(l,".").concat(h)]||p[h]||c[h]||o;return a?n.createElement(y,s(s({ref:t},d),{},{components:a})):n.createElement(y,s({ref:t},d))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,s=new Array(o);s[0]=p;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var u=2;u<o;u++)s[u]=a[u];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},15331:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>u});var n=a(87462),r=(a(67294),a(3905));const o={},s="Amazon Athena",i={unversionedId:"storage/athena",id:"storage/athena",title:"Amazon Athena",description:"Athena is a Serverless Query Service from Amazon based on Presto engine",source:"@site/docs/02-storage/athena.md",sourceDirName:"02-storage",slug:"/storage/athena",permalink:"/docs/storage/athena",draft:!1,tags:[],version:"current",lastUpdatedBy:"sparsh",lastUpdatedAt:1681047270,formattedLastUpdatedAt:"Apr 9, 2023",frontMatter:{},sidebar:"docs",previous:{title:"Data Warehouses",permalink:"/docs/storage/data-warehouses"},next:{title:"Project: Athena Federated",permalink:"/docs/storage/project-athena-federated/"}},l={},u=[{value:"Benefits",id:"benefits",level:3},{value:"Start querying instantly",id:"start-querying-instantly",level:4},{value:"Open, powerful, standard",id:"open-powerful-standard",level:4},{value:"Pay per query",id:"pay-per-query",level:4},{value:"Fast, really fast",id:"fast-really-fast",level:4},{value:"Athena Federation",id:"athena-federation",level:3},{value:"Athena ACID Transactions",id:"athena-acid-transactions",level:3},{value:"Watch these videos",id:"watch-these-videos",level:3}],d={toc:u};function c(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"amazon-athena"},"Amazon Athena"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Athena is a Serverless Query Service from Amazon based on Presto engine")),(0,r.kt)("p",null,"Amazon Athena is an interactive query service that makes it easy to analyze data in Amazon S3 using standard SQL. Athena is serverless, so there is no infrastructure to manage, and you pay only for the queries that you run."),(0,r.kt)("p",null,"Athena is easy to use. Simply point to your data in Amazon S3, define the schema, and start querying using standard SQL. Most results are delivered within seconds. With Athena, there\u2019s no need for complex ETL jobs to prepare your data for analysis. This makes it easy for anyone with SQL skills to quickly analyze large-scale datasets."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/62965911/214001856-3d835c43-3eef-42a0-8e6f-ad1eca4e807f.png",alt:null})),(0,r.kt)("p",null,"Athena is out-of-the-box integrated with AWS Glue Data Catalog, allowing you to create a unified metadata repository across various services, crawl data sources to discover schemas and populate your Catalog with new and modified table and partition definitions, and maintain schema versioning."),(0,r.kt)("p",null,"Presto (or PrestoDB) is an open source, distributed SQL query engine, designed from the ground up for fast analytic queries against data of any size. It supports both non-relational sources, such as the Hadoop Distributed File System (HDFS), Amazon S3, Cassandra, MongoDB, and HBase, and relational data sources such as MySQL, PostgreSQL, Amazon Redshift, Microsoft SQL Server, and Teradata."),(0,r.kt)("p",null,"Presto can query data where it is stored, without needing to move data into a separate analytics system. Query execution runs in parallel over a pure memory-based architecture, with most results returning in seconds. You\u2019ll find it used by many well-known companies like Facebook, Airbnb, Netflix, Atlassian, and Nasdaq."),(0,r.kt)("p",null,"Amazon Athena lets you deploy Presto using the AWS Serverless platform, with no servers, virtual machines, or clusters to setup, manage, or tune. Simply point to your data at Amazon S3, define the schema, and start querying using the built-in query editor, or with your existing Business Intelligence (BI) tools. Athena automatically parallelizes your query, and dynamically scales resources for queries to run quickly. You pay only for the queries that you run."),(0,r.kt)("p",null,'Athena is "Managed Presto"'),(0,r.kt)("p",null,"Athena doesn't support"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"DML Operations"),(0,r.kt)("li",{parentName:"ol"},"Stored Procedures or MQT")),(0,r.kt)("h3",{id:"benefits"},"Benefits"),(0,r.kt)("h4",{id:"start-querying-instantly"},"Start querying instantly"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Serverless, no ETL")),(0,r.kt)("p",null,"Athena is serverless. You can quickly query your data without having to setup and manage any servers or data warehouses. Just point to your data in Amazon S3, define the schema, and start querying using the built-in query editor. Amazon Athena allows you to tap into all your data in S3 without the need to set up complex processes to extract, transform, and load the data (ETL)."),(0,r.kt)("h4",{id:"open-powerful-standard"},"Open, powerful, standard"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Built on Presto, runs standard SQL")),(0,r.kt)("p",null,"Amazon Athena uses Presto with ANSI SQL support and works with a variety of standard data formats, including CSV, JSON, ORC, Avro, and Parquet. Athena is ideal for interactive querying and can also handle complex analysis, including large joins, window functions, and arrays. Amazon Athena is highly available; and executes queries using compute resources across multiple facilities and multiple devices in each facility. Amazon Athena uses Amazon S3 as its underlying data store, making your data highly available and durable."),(0,r.kt)("p",null,"tip:"),(0,r.kt)("p",null,"Presto: Released as open source by Facebook, it\u2019s an open source distributed SQL query engine for running interactive analytic queries against data sources of all sizes. Presto allows querying data where it lives, including Hive, Cassandra, relational databases and file systems. It can perform queries on large data sets in a manner of seconds. It is independent of Hadoop but integrates with most of its tools, especially Hive to run SQL queries."),(0,r.kt)("h4",{id:"pay-per-query"},"Pay per query"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Only pay for data scanned")),(0,r.kt)("p",null,"With Amazon Athena, you pay only for the queries that you run. You are charged $5 per terabyte scanned by your queries. You can save from 30% to 90% on your per-query costs and get better performance by compressing, partitioning, and converting your data into columnar formats. Athena queries data directly in Amazon S3. There are no additional storage charges beyond S3."),(0,r.kt)("h4",{id:"fast-really-fast"},"Fast, really fast"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Interactive performance even for large datasets")),(0,r.kt)("p",null,"With Amazon Athena, you don't have to worry about having enough compute resources to get fast, interactive query performance. Amazon Athena automatically executes queries in parallel, so most results come back within seconds."),(0,r.kt)("h3",{id:"athena-federation"},"Athena Federation"),(0,r.kt)("p",null,"Run federated queries against relational databases, data warehouses, object stores, and non-relational data stores. Federated SQL queries allow you to query the data in-place from wherever it resides. You can use familiar SQL to JOIN data across multiple data sources for quick analysis, and store results in Amazon S3 for subsequent use. Athena federated query also introduces a new Query Federation SDK that allows you to write your own data source connectors to query custom data stores."),(0,r.kt)("p",null,"Athena uses data source connectors that run on AWS Lambda to execute federated queries. A data source connector is a piece of code that can translate between your target data source and Athena. You can think of a connector as an extension of Athena's query engine. When a query is submitted against a data source, Athena invokes the corresponding connector to identify parts of the tables that need to be read, manages parallelism, and pushes down filter predicates. Based on the user submitting the query, connectors can provide or restrict access to specific data elements."),(0,r.kt)("h3",{id:"athena-acid-transactions"},"Athena ACID Transactions"),(0,r.kt)("p",null,"ACID transactions enable multiple users to concurrently and reliably add and delete Amazon S3 objects in an atomic manner, while isolating any existing queries by maintaining read consistency for queries against the data lake. Athena ACID transactions add single-table support for write, delete, update, and time travel operations to the Athena SQL data manipulation language (DML). You and multiple concurrent users can use Athena ACID transactions to make reliable, row-level modifications to Amazon S3 data. Athena transactions automatically manage locking semantics and coordination and do not require a custom record locking solution."),(0,r.kt)("p",null,"Athena ACID transactions and familiar SQL syntax simplify updates to your business and regulatory data. For example, to respond to a data erasure request, you can perform a SQL DELETE operation. To make manual record corrections, you can use a single UPDATE statement. To recover data that was recently deleted, you can issue time travel queries using a SELECT statement."),(0,r.kt)("p",null,"Athena supports read, time travel, and write queries for Apache Iceberg tables that use the Apache Parquet format for data and the AWS Glue catalog for their metastore."),(0,r.kt)("h3",{id:"watch-these-videos"},"Watch these videos"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=whR4J5Arj78"},"https://www.youtube.com/watch?v=whR4J5Arj78")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=M5ptG0YaqAs"},"https://www.youtube.com/watch?v=M5ptG0YaqAs")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=1lzpeVV2hDQ"},"https://www.youtube.com/watch?v=1lzpeVV2hDQ"))))}c.isMDXComponent=!0}}]);