"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[42114],{3905:(e,a,t)=>{t.d(a,{Zo:()=>d,kt:()=>m});var n=t(67294);function i(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function s(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?s(Object(t),!0).forEach((function(a){i(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function r(e,a){if(null==e)return{};var t,n,i=function(e,a){if(null==e)return{};var t,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(i[t]=e[t]);return i}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=n.createContext({}),c=function(e){var a=n.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},d=function(e){var a=c(e.components);return n.createElement(l.Provider,{value:a},e.children)},h={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},u=n.forwardRef((function(e,a){var t=e.components,i=e.mdxType,s=e.originalType,l=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),u=c(t),m=i,p=u["".concat(l,".").concat(m)]||u[m]||h[m]||s;return t?n.createElement(p,o(o({ref:a},d),{},{components:t})):n.createElement(p,o({ref:a},d))}));function m(e,a){var t=arguments,i=a&&a.mdxType;if("string"==typeof e||i){var s=t.length,o=new Array(s);o[0]=u;var r={};for(var l in a)hasOwnProperty.call(a,l)&&(r[l]=a[l]);r.originalType=e,r.mdxType="string"==typeof e?e:i,o[1]=r;for(var c=2;c<s;c++)o[c]=t[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}u.displayName="MDXCreateElement"},26026:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>c});var n=t(87462),i=(t(67294),t(3905));const s={},o="Real-Time Analytics",r={unversionedId:"foundations/data-engineering-foundations/stream-data-processing",id:"foundations/data-engineering-foundations/stream-data-processing",title:"Real-Time Analytics",description:"What is an event stream?",source:"@site/docs/01-foundations/02-data-engineering-foundations/stream-data-processing.md",sourceDirName:"01-foundations/02-data-engineering-foundations",slug:"/foundations/data-engineering-foundations/stream-data-processing",permalink:"/docs/foundations/data-engineering-foundations/stream-data-processing",draft:!1,tags:[],version:"current",lastUpdatedBy:"sparsh",lastUpdatedAt:1681047270,formattedLastUpdatedAt:"Apr 9, 2023",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"SQL vs NoSQL",permalink:"/docs/foundations/data-engineering-foundations/sql-vs-nosql"},next:{title:"Use Cases",permalink:"/docs/foundations/data-engineering-foundations/use-cases"}},l={},c=[{value:"What is an event stream?",id:"what-is-an-event-stream",level:2},{value:"Real-time analytics",id:"real-time-analytics-1",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"User Facing Analytics",id:"user-facing-analytics",level:3},{value:"Personalization",id:"personalization",level:3},{value:"Metrics",id:"metrics",level:3},{value:"Anomaly Detection and Root Cause Analysis",id:"anomaly-detection-and-root-cause-analysis",level:3},{value:"Visualization",id:"visualization",level:3},{value:"Ad Hoc Analytics",id:"ad-hoc-analytics",level:3},{value:"Log Analytics / Text Search",id:"log-analytics--text-search",level:3},{value:"Real-Time flow",id:"real-time-flow",level:2},{value:"Processing Streaming data",id:"processing-streaming-data",level:2},{value:"Streaming data for data engineers",id:"streaming-data-for-data-engineers",level:3},{value:"Real-Time Analytics Applications",id:"real-time-analytics-applications",level:2},{value:"Examples of Real-Time Analytics Applications",id:"examples-of-real-time-analytics-applications",level:3},{value:"Netflix",id:"netflix",level:4},{value:"Walmart",id:"walmart",level:4},{value:"Streaming in Google Cloud",id:"streaming-in-google-cloud",level:2},{value:"Streaming data challenges",id:"streaming-data-challenges",level:2},{value:"Streaming Database",id:"streaming-database",level:2},{value:"Comparison",id:"comparison",level:2}],d={toc:c};function h(e){let{components:a,...s}=e;return(0,i.kt)("wrapper",(0,n.Z)({},d,s,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"real-time-analytics"},"Real-Time Analytics"),(0,i.kt)("h2",{id:"what-is-an-event-stream"},"What is an event stream?"),(0,i.kt)("p",null,"The term \u201cstreaming\u201d describes a continuous, never-ending flow of data with no beginning or end. The data is made available incrementally over time, which means that you can act upon it without needing to wait for the whole dataset to become available so that you can download it."),(0,i.kt)("p",null,"A data stream consists of a series of data points ordered in time i.e. chronological order, as shown:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"img",src:t(48289).Z,width:"619",height:"133"})),(0,i.kt)("p",null,"Each data point represents an \u201cevent\u201d or a change in the state of the business. For example, real-time events like a stream of transactions coming from an organisation or IoT sensors emitting their readings. One thing in common is that they keep on producing data for as long as the business exists."),(0,i.kt)("p",null,"Events streams are generated by different data sources in a business, in various formats and volumes."),(0,i.kt)("p",null,"We can also consider a data stream as an immutable, time-ordered stream of events, carrying facts about state changes that occurred in the business."),(0,i.kt)("p",null,"These sources include but are not limited to ecommerce purchases, in-game player activity, information from social networks, clickstream data, activity logs from web servers, sensor data, and telemetry from connected devices or instrumentation in data centers."),(0,i.kt)("p",null,"An example of an event would be the following:"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"A user with ID 1234 purchased item 567 for $3.99 on 2022/06/12 at 12:23:212")),(0,i.kt)("p",null,"Events have a shelf life. The business value of events rapidly decreases over time. The sooner you understand events\u2019 behaviour, the sooner you can react and maximize your business outcome."),(0,i.kt)("p",null,"For example, if we have an event that a user abandoned their shopping cart, we can reach out to them via SMS or email to find out why that happened. Perhaps we can offer them a voucher for one the items in their cart to entice them to come back and complete the transaction."),(0,i.kt)("p",null,"But that only works if we\u2019re able to react to the cart abandonment in real-time. If we detect it tomorrow, the user has probably forgotten what they were doing and will likely ignore our email."),(0,i.kt)("h2",{id:"real-time-analytics-1"},"Real-time analytics"),(0,i.kt)("p",null,"Real-time analytics systems capture, analyze and act upon events as soon as they become available. They are the unbounded, incrementally processed counterpart to the batch processing systems that have dominated the data analytics space for many years."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"img",src:t(93169).Z,width:"691",height:"522"})),(0,i.kt)("h2",{id:"use-cases"},"Use Cases"),(0,i.kt)("h3",{id:"user-facing-analytics"},"User Facing Analytics"),(0,i.kt)("p",null,"Organizations have been generating and collecting massive amounts of data for a long time now. Analytics on that data has been playing a crucial role in analyzing user behavior, growth potential, and revenue spend, enabling employees and executives to make key business decisions."),(0,i.kt)("p",null,"This analytics has mostly been done inside an organization, but there is an increasing desire to provide this analytical capability directly to end users. Doing so will democratize decision making and provide an even more personalized experience. The term ",(0,i.kt)("em",{parentName:"p"},"User-Facing Analytics")," has been coined to describe this process."),(0,i.kt)("p",null,"The key requirements are high throughput and low query latency since this directly impacts the user experience."),(0,i.kt)("h3",{id:"personalization"},"Personalization"),(0,i.kt)("p",null,"This is a special type of user-facing analytics where we personalize the product experience for a given user. This might mean showing them content that they\u2019ll be particularly interested in or presenting them with vouchers unique to their interests."),(0,i.kt)("p",null,"It is done by going through user\u2019s activity and product interaction and extracting real-time features, which are then used to generate personalized recommendations or actions."),(0,i.kt)("h3",{id:"metrics"},"Metrics"),(0,i.kt)("p",null,"Tracking business metrics in real-time allows us to get an up to date view on KPIs. This enables organizations to identify issues and take proactive steps to address them in a timely manner."),(0,i.kt)("p",null,"Being able to do this is particularly critical for operational intelligence, anomaly/fraud detection, and financial planning."),(0,i.kt)("p",null,"This use case has a requirement for a high number of queries per second along with low latency. We must also achieve a high degree of data accuracy."),(0,i.kt)("h3",{id:"anomaly-detection-and-root-cause-analysis"},"Anomaly Detection and Root Cause Analysis"),(0,i.kt)("p",null,"Anomaly Detection and Root Causes Analysis is a popular use case when working with time series data. Time series data is a sequence of data points collected over a period of time."),(0,i.kt)("p",null,"In the context of e-commerce, this could include data like the number of transactions per day, average transaction value, or number of returns."),(0,i.kt)("p",null,"Anomaly detection is all about identifying unusual patterns in data that may indicate a problem that we need to address. That problem might be a sudden surge in orders of a particular product or even that fraudulent activity is being committed."),(0,i.kt)("p",null,"Either way, we need to find out what went wrong quickly - it\u2019s no use finding out that we had a problem 24 hours ago, we need to know about it now!"),(0,i.kt)("p",null,"And once we\u2019ve detected that something unusual has happened, we also need to understand which dimensions were responsible for any anomalies. In other words, we need to find the root cause of the issue."),(0,i.kt)("p",null,"Both of these use cases perform temporal scans and ",(0,i.kt)("em",{parentName:"p"},"group by")," queries at a high number of queries per second."),(0,i.kt)("h3",{id:"visualization"},"Visualization"),(0,i.kt)("p",null,"Much has been said about the death of the dashboard, but they still have a role to play in the real-time analytics space."),(0,i.kt)("p",null,"This could be as simple as a dashboard that plots metrics on different charts or as complex as geospatial visualization, clustering, trend analysis, and more. The main difference to a typical dashboard is that tables and charts will be constantly updated as new data comes in."),(0,i.kt)("p",null,"The serving layer must integrate with existing visualization solutions like Apache Superset and Grafana."),(0,i.kt)("h3",{id:"ad-hoc-analytics"},"Ad Hoc Analytics"),(0,i.kt)("p",null,"Analysts often want to do real-time data exploration to debug issues and detect patterns as events are being ingested. This means that we should be able to run SQL queries against the serving layer."),(0,i.kt)("p",null,"Analysts will also want to do some analysis that combines real-time data with historical data. For example, they might want to see how the business is performing this month compared to the same month in previous years. This means that we either need to bring the historical data into the serving layer or use a distributed SQL query engine that can combine multiple data sources."),(0,i.kt)("p",null,"The number of queries per second will be slow, but query complexity is likely to be high."),(0,i.kt)("h3",{id:"log-analytics--text-search"},"Log Analytics / Text Search"),(0,i.kt)("p",null,"Running real-time text search queries on application log data is a less common, but still important use case. Since logs are often unstructured, we must be able to run regex style text search on this data to triage production issues."),(0,i.kt)("p",null,"The queries per second will be low for most applications, but will get higher if we are debugging a user-facint application."),(0,i.kt)("h2",{id:"real-time-flow"},"Real-Time flow"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Figure below"),"\xa0is a typical real-time data flow that captures data from a source, transforms it, and serves it using a real-time OLAP database. The diagram is completed with a real-time visualization to an end user."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/62965911/221354689-bd4ad06a-a2b8-4ad5-8e89-25f4d846a86d.png",alt:"img1"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Real-time transformation")," engines are distributed, stateful\xa0",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"stream processors")),"\xa0that can perform complex transformations on real-time data. They can handle high throughput data at any scale. The role of the stream processor is to preprocess the data before it reaches the real-time OLAP database."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Real-time OLAP (RTOLAP)"),"\xa0are databases that can serve data with high query per second (QPS). QPS is a good indicator of good end user experience. End users could be actual users or other applications. The higher the QPS, the better the experience for end users. The stream processors take away the need for these databases to preprocess the data so that they can focus their resources on higher QPS."),(0,i.kt)("h2",{id:"processing-streaming-data"},"Processing Streaming data"),(0,i.kt)("p",null,"In the\xa0big data era, people like to correlate big data with real-time data. Some people say that if the data is not real-time, then it's not big data. This statement is partially true. In practice, the majority of data pipelines in the world use the batch approach, and that's why it's still very important for data engineers to understand the batch data pipeline."),(0,i.kt)("p",null,"However, real-time capabilities in the big data era are something that many data engineers need to start to rethink in terms of data architecture. To understand more about architecture, we first need to have a clear definition of what real-time data is."),(0,i.kt)("p",null,"From the end-user perspective, real-time data can mean anything---anything from faster access to data, more frequent data refreshes, and detecting events as soon as they happen. From a data engineer perspective, what we need to know is\xa0",(0,i.kt)("em",{parentName:"p"},"how"),"\xa0to make it happen. For example, if you search any keyword in Google Search, you will get an immediate result in real time. Or, in another example, if you open any social media page, you can find your account statistics and the number of friends, visitors, and other information in real time.\xa0"),(0,i.kt)("p",null,"But if you think about it, you may notice that there is nothing new in\xa0both of the examples. As an end user, you can get fast access to the data because of the backend database, and this is a common practice dating from the 1990s. In big data, what's new is the real time in terms\xa0of incoming data and processing. This specific real-time aspect is called\xa0",(0,i.kt)("strong",{parentName:"p"},"streaming data"),". For example, you need to detect fraud as soon as an event happens. In most cases, detecting fraud needs many parameters from multiple data sources, which are impossible to be handled in the application database. If fraud has no relevance to your company, you can think of other use cases\xa0such as real-time marketing campaigns and real-time dashboards for sales reporting. Both use cases may require a large volume of data from multiple data sources. In these kinds of cases, being able to handle data in streams may come in handy."),(0,i.kt)("h3",{id:"streaming-data-for-data-engineers"},"Streaming data for data engineers"),(0,i.kt)("p",null,"Streaming data\xa0in data engineering means a data pipeline\xa0that flows data from the upstream to the downstream as soon as the data is created. In nature, all data is created in real time, so processing data in batches is a way to simplify the process."),(0,i.kt)("p",null,"What does this mean?"),(0,i.kt)("p",null,"If you think about how every piece of data is created, it's always in real time---for example, a user registered to a mobile application. The moment the user registered, data was created in the database. Another example is of data being input into a spreadsheet. The moment the data entry is written in the spreadsheet, data is created in the sheet. Looking at the examples, you can see that data always has a value and the time when it's created.\xa0Processing streaming data means we process the data as soon as the data is inputted into a system.\xa0"),(0,i.kt)("p",null,"Take a look at the following diagram. Here, there are two databases: the source database and the target database. For streaming data, every time a new record is inserted into the source database (illustrated as boxes with numbers), the record is immediately processed as an event and inserted into the target database. These events happen continuously, which makes the data in the target database real-time compared to the source database:"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/62965911/219853662-f177ccc8-463d-417f-8c18-ddc5eef722ba.jpg",alt:"Figure_6 1"})),(0,i.kt)("p",null,"In data engineering, the antonym for\xa0",(0,i.kt)("em",{parentName:"p"},"stream"),"\xa0is\xa0",(0,i.kt)("em",{parentName:"p"},"batch"),". Batching is a very common approach\xa0for data engineers to process data. Even though we know data is real-time in nature, it's a lot easier to process data in a set time. For example, if\xa0your\xa0",(0,i.kt)("strong",{parentName:"p"},"chief executive officer"),"\xa0(",(0,i.kt)("strong",{parentName:"p"},"CEO"),") wants to know about the company's revenue, it's a lot easier to populate the purchase history in a month and calculate the revenue, rather than build a\xa0system then continuously calculate the purchase transactions. Or, in a more granular level, a batch is commonly done on a weekly, daily, or hourly basis. The batch approach is a widely used practice in the data engineering world; I can say 90% of the data pipeline is a batch.\xa0"),(0,i.kt)("p",null,"Take a look at the following diagram. Here, the two databases are the same as the above figure. The nature of how data is inserted into the source database is also the same---it's always real-time from the source database perspective. The difference is in the processing step, where the records are grouped into batches. Every batch is scheduled individually to be loaded to the target database:"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/62965911/219853667-6aa1ca55-587b-4133-bdb9-6ce486724a3a.jpg",alt:"Figure_6 2"})),(0,i.kt)("p",null,"There\xa0are two major reasons why processing data in batches is more popular compared to streams. The first is because of the data user's needs. The data user, who is usually called a decision maker, naturally asks for\xa0information over a period of time. As we've discussed in the previous example, common questions are\xa0",(0,i.kt)("em",{parentName:"p"},"How much X in a day?"),"\xa0or\xa0",(0,i.kt)("em",{parentName:"p"},"How many X in a month?"),". It's very rare to have a question such as\xa0",(0,i.kt)("em",{parentName:"p"},"How much X occurred this second compared to the last second?"),"."),(0,i.kt)("p",null,"The second reason is the complexity of technology. Batching is easier than streaming because you can control a lot of things in a batch---for example, you can control how you want to schedule data pipeline jobs. This doesn't apply to stream processing. A streaming process is one job; once it runs, it will process all the incoming data and it never ends. To handle all the complexities, we need specific sets of technologies."),(0,i.kt)("h2",{id:"real-time-analytics-applications"},"Real-Time Analytics Applications"),(0,i.kt)("p",null,"Real-time analytics applications combine characteristics from both traditional reporting analytics and transactional applications."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/62965911/216754384-be942702-f617-4ce9-a231-061b4a291f19.png",alt:"img",title:"Real-Time Analytics Applications"})),(0,i.kt)("p",null,"Streaming data is data that is generated continuously by thousands of data sources, which typically send in the data records simultaneously, and in small sizes (order of Kilobytes). Streaming data includes a wide variety of data such as log files generated by customers using your mobile or web applications, ecommerce purchases, in-game player activity, information from social networks, financial trading floors, or geospatial services, and telemetry from connected devices or instrumentation in data centers."),(0,i.kt)("p",null,"Analyzing and measuring data as soon as it enters the database is referred to as real-time analytics. Thus, users gain insights or may conclude as soon as data enters their system. Businesses can react quickly using real-time analytics. They can grasp opportunities and avert issues before they occur. On the other hand, Batch-style analytics might take hours or even days to provide findings. As a result, batch analytical systems frequently produce only static insights based on lagging indications. Real-time analytics insights may help organizations stay ahead of the competition. These pipelines for streaming data generally follow a 3 step process, i.e., Ingest, Analyze and Deliver."),(0,i.kt)("p",null,"Data from various sources, including applications, devices, sensors, clickstreams, and social media feeds, can be analyzed to find patterns and linkages. These patterns can be used to start workflows and trigger events like alert creation, information feeding into reporting tools, or storing altered data for future use."),(0,i.kt)("p",null,"This data needs to be processed sequentially and incrementally on a record-by-record basis or over sliding time windows, and used for a wide variety of analytics including correlations, aggregations, filtering, and sampling. Information derived from such analysis gives companies visibility into many aspects of their business and customer activity such as \u2013service usage (for metering/billing), server activity, website clicks, and geo-location of devices, people, and physical goods \u2013and enables them to respond promptly to emerging situations. For example, businesses can track changes in public sentiment on their brands and products by continuously analyzing social media streams, and respond in a timely fashion as the necessity arises."),(0,i.kt)("p",null,"There are four key requirements for supporting real-time analytics. They are latency, freshness, throughput, and concurrency, as seen below:"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/62965911/214567242-a0f0fb33-53f1-4d05-99b5-cc574e05713e.png",alt:null})),(0,i.kt)("p",null,"These four ideas work together to control business\u2019s ability to make decisions on the fly. They are required to ensure that data transforms into actionable analytics as close to real-time as possible (in fractions of a second). They are also necessary to quickly tie current transactions with historical data for comparisons and trends without having to preprocess the data."),(0,i.kt)("p",null,"AWS has a very robust stack of technologies such as Kinesis Data Streams, Kinesis Data Firehose, Kinesis Data Analytics, and Managed Streaming for Kafka when it comes to working with streaming data."),(0,i.kt)("h3",{id:"examples-of-real-time-analytics-applications"},"Examples of Real-Time Analytics Applications"),(0,i.kt)("h4",{id:"netflix"},"Netflix"),(0,i.kt)("p",null,"To ensure a consistently great experience to more than 100 million members in more than 190 countries enjoying 125 million hours ",(0,i.kt)("strong",{parentName:"p"},"of TV shows")," and movies each day, Netflix built a real-time analytics application for user experience monitoring. By turning log streams into real-time metrics, Netflix can see how over 300 million devices are performing at all times in the field. Ingesting over 2 million events per second and querying over 1.5 trillion rows, Netflix engineers can pinpoint anomalies within their infrastructure, endpoint activity, and content flow."),(0,i.kt)("p",null,"An ongoing challenge for Netflix is consistently delivering a great streaming entertainment experience while continuously pushing innovative technology updates. As Netflix\u2019s adoption has skyrocketed, this challenge has grown more complex. With over 300 million devices spanning four major UIs including iOS, Android, smart TVs, and their own website, Netflix has a constant need to identify and isolate issues that may affect only a certain group, such as a version of the app, certain types of devices, or particular countries. Ben Sykes, software engineer at Netflix, says that \u201cwith this data arriving at over 2 million events per second, getting it into a database that can be queried quickly is formidable. We need sufficient dimensionality for the data to be useful in isolating issues and as such we generate over 115 billion rows per day.\u201d"),(0,i.kt)("p",null,"To quantify how seamlessly users\u2019 devices are handling browsing and playback, Netflix derives measurements using real-time logs from playback devices as a source of events."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/62965911/216756143-7c88c769-22f4-4bfb-bb29-19cfd6226dba.png",alt:"The log to metric data pipeline at NetflixSource for the figure comes from Ben Sykes   How Netflix Uses Druid for Real Time Insights."})),(0,i.kt)("p",null,"Netflix collects these measures and feeds them into the real-time analytics database. Every measure is tagged with anonymized details about the kind of device being used\u2014for example, whether the device is a smart TV, an iPad, or an Android phone. This enables Netflix to classify devices and view the data according to various aspects. This aggregated data is available immediately for querying, either via dashboards or ad hoc queries. \u201cWe\u2019re currently ingesting at over 2 million events per second,\u201d Sykes says, \u201cand querying over 1.5 trillion rows to get detailed insights into how our users are ",(0,i.kt)("strong",{parentName:"p"},"experiencing")," the service. All this helps us maintain a high-quality Netflix experience, while enabling constant innovation.\u201d"),(0,i.kt)("p",null,"The ultimate benefit is speed, which is essential for a service that needs to react to a massive number of users in near real time."),(0,i.kt)("h4",{id:"walmart"},"Walmart"),(0,i.kt)("p",null,"To compete with Amazon and other retailers, Walmart needs to track the pricing of their competitors in real time and allow analysts to explore the gathered data interactively."),(0,i.kt)("p",null,"Many data sets at Walmart are generated by the digital business, modeled as streams of events ranging from server logs to application metrics to product purchases. The goal of the team at Walmart Labs is to make it easy for the right people across Walmart to access this data, analyze it, and make decisions in the least amount of time ",(0,i.kt)("strong",{parentName:"p"},"possible.")),(0,i.kt)("p",null,"Walmart\u2019s first attempt to provide low-latency analytics was to leverage the Hadoop ecosystem. It tried using Apache Hive first and then Presto. According to Amaresh Nayak, distinguished SW engineer at Walmart Labs, \u201cThe problem we faced with both of these SQL-on-Hadoop solutions was that queries would sometimes take hours to complete, which significantly impacted our ability to make rapid decisions. Although our data was arriving in real time, our queries quickly became a bottleneck in our decision-making cycle as our data volumes grew. We quickly realized that the workflow we were aiming to optimize was one where we could look at our event streams (both real-time and historical events) and slice and dice the data to look at specific subsections, determine trends, find root causes, and take actions accordingly.\u201d"),(0,i.kt)("p",null,"The team at Walmart knew it needed to make a change. The types of queries the team runs require column aggregation, which involves scanning a lot of rows across multiple shards. Walmart found that relational databases were poorly suited for this because they cannot efficiently enable data exploration in real time. The team also ruled out a NoSQL key-value database because of the need to query multiple partitions across a number of nodes. Using this database would have caused inefficient aggregation calculations and exponentially increased storage requirements by storing aggregates for all possible column combinations."),(0,i.kt)("p",null,"Using a real-time analytics application, Walmart can now pre-aggregate records as they are being ingested. Instead of getting a single price for an item for a specific moment in time, Walmart can now understand the changing price of an item over any span of time. This combined level of depth and speed to insights is essential to enabling Walmart to make critical pricing decisions in the least amount of time possible. \u201cAfter we switched ","[to real-time analytics]",",\u201d Nayak says, \u201cour query latencies also dropped to near sub-second and in general, the project fulfilled most of our requirements. Today, our cluster ingests nearly 1B+ events per day (2TB of raw data).\u201d"),(0,i.kt)("h2",{id:"streaming-in-google-cloud"},"Streaming in Google Cloud"),(0,i.kt)("p",null,"Watch this video: ",(0,i.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=3Y7PhzFbz_s"},"https://www.youtube.com/watch?v=3Y7PhzFbz_s")),(0,i.kt)("h2",{id:"streaming-data-challenges"},"Streaming data challenges"),(0,i.kt)("p",null,"Watch this video: ",(0,i.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=0vbdoFNCUOA"},"https://www.youtube.com/watch?v=0vbdoFNCUOA")),(0,i.kt)("h2",{id:"streaming-database"},"Streaming Database"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Streaming databases"),"\xa0try to do\xa0",(0,i.kt)("em",{parentName:"p"},"both - Stream processing and Real-time OLAP."),"\xa0They have stream processing capabilities as well as the ability to serve real-time data with high QPS like a RTOLAP."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/62965911/221354846-693a81b9-5505-4f22-a4d0-56fc59703cc8.png",alt:"img2"})),(0,i.kt)("p",null,"Streaming database cannot be created by simply putting a SQL based stream processor and a RTOLAP together.\xa0",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"They need to share the same SQL processor/engine for both transforming data and serving data.")),"\xa0It provides a\xa0",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"single SQL interface")),"\xa0for user facing applications that\xa0",(0,i.kt)("em",{parentName:"p"},"pull"),"\xa0data from a RTOLAP with high QPS and for developers building transformations that\xa0",(0,i.kt)("em",{parentName:"p"},"push"),"\xa0data downstream in a data pipeline."),(0,i.kt)("h2",{id:"comparison"},"Comparison"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/62965911/221354914-6bfa14bc-cbe0-4a60-b094-7e3fef2f735c.png",alt:"img3"})))}h.isMDXComponent=!0},48289:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/realtime.drawio-ad4fe6189e22f1107e1893164de46d84.svg"},93169:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/realtime2.drawio-2db80f70359a9a0aed082a612e7640b9.svg"}}]);