<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-processing/lab-dbt-tickit/README">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Lab: Building an ELT Pipeline with dbt and Amazon Redshift on TICKIT data | Recohut Data Bootcamp</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.recohut.com/docs/processing/lab-dbt-tickit"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="data science, data engineering, data analytics"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Lab: Building an ELT Pipeline with dbt and Amazon Redshift on TICKIT data | Recohut Data Bootcamp"><meta data-rh="true" name="description" content="Objective"><meta data-rh="true" property="og:description" content="Objective"><link data-rh="true" rel="icon" href="/img/branding/favicon-black.svg"><link data-rh="true" rel="canonical" href="https://www.recohut.com/docs/processing/lab-dbt-tickit"><link data-rh="true" rel="alternate" href="https://www.recohut.com/docs/processing/lab-dbt-tickit" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.recohut.com/docs/processing/lab-dbt-tickit" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Recohut Data Bootcamp RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Recohut Data Bootcamp Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B4S1B1ZDTT"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B4S1B1ZDTT",{})</script><link rel="stylesheet" href="/assets/css/styles.099cbecb.css">
<link rel="preload" href="/assets/js/runtime~main.1db50233.js" as="script">
<link rel="preload" href="/assets/js/main.c578965a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/branding/favicon-color.svg" alt="Recohut Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/branding/favicon-color.svg" alt="Recohut Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Bootcamp</b></a><a class="navbar__item navbar__link" href="/docs/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/sparsh-ai/recohut" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/foundations/cloud/cloud-computing">Cloud Computing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cloud Computing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/foundations/language/sql/sql-basics">Programming</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/storage/serialization">Data Storage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/processing/databricks">Data Processing</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/processing/databricks">Databricks</a><button aria-label="Toggle the collapsible sidebar category &#x27;Databricks&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/processing/aws-emr">AWS EMR</a><button aria-label="Toggle the collapsible sidebar category &#x27;AWS EMR&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/processing/lab-glue-advanced">AWS Glue Studio</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/processing/aws-lambda">AWS Lambda Function</a><button aria-label="Toggle the collapsible sidebar category &#x27;AWS Lambda Function&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/processing/aws-kinesis">Amazon Kinesis</a><button aria-label="Toggle the collapsible sidebar category &#x27;Amazon Kinesis&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/processing/apache-beam">Apache Beam</a><button aria-label="Toggle the collapsible sidebar category &#x27;Apache Beam&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/processing/lab-gcp-dataflow-pipeline">GCP Dataflow</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/processing/ray">Ray</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ray&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/processing/gcp-dataproc">GCP Dataproc</a><button aria-label="Toggle the collapsible sidebar category &#x27;GCP Dataproc&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/processing/lab-azure-hdinsight-simple-data-processing">Azure HDInsight</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/processing/azure-synapse-analytics">Azure Synapse Analytics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Azure Synapse Analytics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/processing/lab-gcp-dataprep">GCP Dataprep</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/processing/gcp-pubsub">GCP PubSub</a><button aria-label="Toggle the collapsible sidebar category &#x27;GCP PubSub&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/processing/apache-kafka">Apache Kafka</a><button aria-label="Toggle the collapsible sidebar category &#x27;Apache Kafka&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/processing/apache-flink">Apache Flink</a><button aria-label="Toggle the collapsible sidebar category &#x27;Apache Flink&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/processing/dbt">dbt</a><button aria-label="Toggle the collapsible sidebar category &#x27;dbt&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/processing/lab-dbt-nyctaxi">Lab: Building an ELT pipeline for a cab service company using dbt and Postgres</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/processing/lab-dbt-jaffle-shop">Lab: dbt Postgres on Jaffle Shop data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/processing/lab-dbt-knoema">Lab: dbt Snowflake on Knoema data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/processing/lab-dbt-olist">Lab: dbt Postgres on Olist Retail data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/processing/lab-dbt-stackexchnge">Lab: dbt BigQuery on Stack Exchange data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/processing/lab-dbt-tickit">Lab: Building an ELT Pipeline with dbt and Amazon Redshift on TICKIT data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/processing/lab-dbt-tpch">Lab: dbt Snowflake on TPCH data</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/processing/snowpark">Snowpark</a><button aria-label="Toggle the collapsible sidebar category &#x27;Snowpark&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/data-modeling">Data Modeling</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data Modeling&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/extraction/api">Data Extraction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/orchestration/airflow">Data Pipelines</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/visualization/flask">Data Visualization</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/devops">DevOps</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/mathematics">Mathematics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Mathematics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/foundations/basics/origin">Data Science</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/category/case-studies">Extras</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Data Processing</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/processing/dbt"><span itemprop="name">dbt</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Lab: Building an ELT Pipeline with dbt and Amazon Redshift on TICKIT data</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Lab: Building an ELT Pipeline with dbt and Amazon Redshift on TICKIT data</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="objective">Objective<a class="hash-link" href="#objective" title="Direct link to heading">​</a></h2><p>Building an ELT Pipeline with dbt and Amazon Redshift on TICKIT data</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="business-problem">Business Problem<a class="hash-link" href="#business-problem" title="Direct link to heading">​</a></h2><p>A fictional company &#x27;Recohut&#x27; is looking to leverage dbt on their existing data warehouse in Amazon Redshift. They need your help in establishing the dbt models and pipelines in their warehouse.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="solution-architecture">Solution Architecture<a class="hash-link" href="#solution-architecture" title="Direct link to heading">​</a></h2><p>In this project, you will:</p><ol><li>Install dbt CLI</li><li>Use dbt dbt-labs/codegen package and Python script to automate creation of a base layer</li><li>Use dbt models to maintain data transformations with referencing capabilities</li><li>Use dbt macros to maintain common logic as functions and to administer user creation and grants</li><li>Use dbt hooks to automate continuous execution of grants</li><li>Use dbt seeds to manage manual files</li><li>Use dbt docs to generate documentation with visualization</li><li>Use dbt experimental package explore materialization of materialize views</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activity-1-amazon-redshift-serverless">Activity 1: Amazon Redshift Serverless<a class="hash-link" href="#activity-1-amazon-redshift-serverless" title="Direct link to heading">​</a></h2><p>In this activity, we are going to:</p><ol><li>Create Amazon Redshift Serverless Cluster on AWS</li><li>Connect to the Cluster from our local computer using Python</li><li>Use AWS Secret Manager to store and retrieve our Warehouse credentials</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activity-2-data-ingestion">Activity 2: Data Ingestion<a class="hash-link" href="#activity-2-data-ingestion" title="Direct link to heading">​</a></h2><p>In this activity, we are going to ingest the TICKIT dataset into the Redshift warehouse</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activity-3-setup-dbt">Activity 3: Setup dbt<a class="hash-link" href="#activity-3-setup-dbt" title="Direct link to heading">​</a></h2><p>In this activity, we will install dbt in our system. We will then setup the dbt project.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activity-4-setup-base-layer">Activity 4: Setup base layer<a class="hash-link" href="#activity-4-setup-base-layer" title="Direct link to heading">​</a></h2><p>In this activity, you will setup a base layer for your models to reference. What is a base layer and what are models? Models are SQL Select statements that represents your data transformation logic including usage of case statements and joins. Base layer falls under the category of models and represents existing objects (tables and views) in your Amazon Redshift cluster.</p><p>In addition, depending on the nature of your dbt project, a base layer can be made up of different objects. For instance, a data engineer&#x27;s base layer likely relates to tables containing raw data while a data analyst&#x27;s base layer likely relates to tables containing cleaned data.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activity-5-create-models">Activity 5: Create models<a class="hash-link" href="#activity-5-create-models" title="Direct link to heading">​</a></h2><p>To explore dbt&#x27;s ability for objects to be referenced by other objects, in this activity, you will simulate a Finance deparment that maintains two models where the second model references the first model. To reference means to reuse and not have to duplicate code.</p><ul><li>Model 1 - Quarterly Total Sales By Event</li><li>Model 2 - Quarterly Top Events By Sales (references Model 1 to rank and filter for top 3 events by sales for each quarter)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activity-6-create-macros">Activity 6: Create macros<a class="hash-link" href="#activity-6-create-macros" title="Direct link to heading">​</a></h2><p>In this activity, you will use macros to create a piece of reusable data transformation logic and also to manage users and grants. Macros are a great way in dbt to create reusable pieces of SQL codes like a function in Python.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activity-7-data-masking">Activity 7: Data Masking<a class="hash-link" href="#activity-7-data-masking" title="Direct link to heading">​</a></h2><p>In this activity, you will simulate a Technology department with one model that contains data masking logic.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activity-8-access-control-management-with-dbt-macros">Activity 8: Access Control Management with dbt macros<a class="hash-link" href="#activity-8-access-control-management-with-dbt-macros" title="Direct link to heading">​</a></h2><p>Macros can be used to send queries to Amazon Redshift. In this activity, you will use macros to manage users and grants. Similar to the Python script earlier, you can modify the macros created in this activity to better suit your needs beyond the scope of this workshop. For example, you might want to include a new macro to manage Role-based access control (RBAC) in Amazon Redshift.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activity-9-dbt-hooks">Activity 9: dbt hooks<a class="hash-link" href="#activity-9-dbt-hooks" title="Direct link to heading">​</a></h2><p>As models are added or updated, you will constantly need to grant access to new views and regrant access to existing views. Regranting access to an existing view is required as dbt updates by dropping existing view and creating a new view.</p><p>This introduces the operational challenge of you having to remember to run macro macro_manage_users_grants. However the process of running macro macro_manage_users_grants can be automated by hooks in dbt.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activity-10-create-seeds">Activity 10: Create seeds<a class="hash-link" href="#activity-10-create-seeds" title="Direct link to heading">​</a></h2><p>Seeds are a convenient way in dbt for you to manage manual files. A common use case for manual files is to introduce data mappings. Manual files allows data mappings to be easily maintained and reused as compared to the usage of case statements in SQL which requires code changes when data mappings are changed.</p><p>In this activity, you will simulate a Marketing department that maintains a custom data mapping csv that a model uses.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activity-11-create-documentations">Activity 11: Create documentations<a class="hash-link" href="#activity-11-create-documentations" title="Direct link to heading">​</a></h2><p>The ability for objects to reference other objects improves code reusability but can result in widespread negative impact when an erroneous change is introduced to an object that is referenced by a large number of objects. dbt provides you with an interface to visualize all models and its dependencies on other models which is useful for impact analysis.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activity-12-materialized-view">Activity 12: Materialized View<a class="hash-link" href="#activity-12-materialized-view" title="Direct link to heading">​</a></h2><p>Materialized view stores precomputed results to reduce processing time for complex queries involving multi-table joins and aggregations.</p><p>In this activity, you will simulate an Experimental department that is exploring a dbt experimental feature.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-outputs">Project outputs<a class="hash-link" href="#project-outputs" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docs">Docs<a class="hash-link" href="#docs" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="https://user-images.githubusercontent.com/62965911/214304361-8dd06672-faad-43cd-b844-3a1b38dcc876.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dag">Dag<a class="hash-link" href="#dag" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="https://user-images.githubusercontent.com/62965911/214304345-b5a29b42-2d57-48bd-8a2e-2ce886d33de0.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="database">Database<a class="hash-link" href="#database" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="https://user-images.githubusercontent.com/62965911/214304319-ffe03556-37d7-49c2-8111-01a8380707ee.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="files">Files<a class="hash-link" href="#files" title="Direct link to heading">​</a></h2><p><a href="https://github.com/sparsh-ai/recohut/tree/main/docs/03-processing/lab-dbt-tickit" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/badge/GitHub-100000?style=for-the-badge&amp;logo=github&amp;logoColor=white" alt="Github" class="img_ev3q"></a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">├── [ 40K]  01-sa-main.ipynb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── [5.7K]  README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── [ 41K]  cfn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── [ 40K]  dbt-redshift.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── [1.9K]  dbt_project.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── [4.0K]  generate_base_tables.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── [8.4K]  macros</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── [3.1K]  macro_hello_world.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── [3.9K]  macro_manage_access.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── [ 803]  macro_overwrite_for_mv.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── [ 421]  macro_pii_masking.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── [4.9K]  models</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── [2.5K]  base_public</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── [ 211]  base_public_category.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── [ 257]  base_public_date.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── [ 242]  base_public_event.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── [ 290]  base_public_listing.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── [ 314]  base_public_sales.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── [ 473]  base_public_users.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── [ 234]  base_public_venue.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── [ 201]  schema.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── [ 536]  dept_experimental</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── [ 440]  rpt_experimental_qtr_total_sales_by_event.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── [ 822]  dept_finance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── [ 205]  rpt_finance_qtr_top_events_by_sales.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── [ 489]  rpt_finance_qtr_total_sales_by_event.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── [ 291]  dept_marketing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── [ 195]  rpt_marketing_category_full_desc.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── [ 617]  dept_tech</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── [ 521]  rpt_tech_all_users.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── [ 157]  packages.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── [ 635]  seeds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── [ 539]  dept_marketing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── [ 443]  mnl_category_desc.csv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── [2.6K]  src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── [2.6K]  data_load.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 110K used in 11 directories, 25 files</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="notebooks">Notebooks<a class="hash-link" href="#notebooks" title="Direct link to heading">​</a></h2><p><a href="https://nbviewer.org/github/sparsh-ai/recohut/blob/main/docs/03-processing/lab-dbt-tickit" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/badge/jupyter-notebook-informational?logo=jupyter" alt="nbviewer" class="img_ev3q"></a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-04-22T14:58:27.000Z">Apr 22, 2023</time></b> by <b>sparsh</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/processing/lab-dbt-stackexchnge"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Lab: dbt BigQuery on Stack Exchange data</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/processing/lab-dbt-tpch"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Lab: dbt Snowflake on TPCH data</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#objective" class="table-of-contents__link toc-highlight">Objective</a></li><li><a href="#business-problem" class="table-of-contents__link toc-highlight">Business Problem</a></li><li><a href="#solution-architecture" class="table-of-contents__link toc-highlight">Solution Architecture</a></li><li><a href="#activity-1-amazon-redshift-serverless" class="table-of-contents__link toc-highlight">Activity 1: Amazon Redshift Serverless</a></li><li><a href="#activity-2-data-ingestion" class="table-of-contents__link toc-highlight">Activity 2: Data Ingestion</a></li><li><a href="#activity-3-setup-dbt" class="table-of-contents__link toc-highlight">Activity 3: Setup dbt</a></li><li><a href="#activity-4-setup-base-layer" class="table-of-contents__link toc-highlight">Activity 4: Setup base layer</a></li><li><a href="#activity-5-create-models" class="table-of-contents__link toc-highlight">Activity 5: Create models</a></li><li><a href="#activity-6-create-macros" class="table-of-contents__link toc-highlight">Activity 6: Create macros</a></li><li><a href="#activity-7-data-masking" class="table-of-contents__link toc-highlight">Activity 7: Data Masking</a></li><li><a href="#activity-8-access-control-management-with-dbt-macros" class="table-of-contents__link toc-highlight">Activity 8: Access Control Management with dbt macros</a></li><li><a href="#activity-9-dbt-hooks" class="table-of-contents__link toc-highlight">Activity 9: dbt hooks</a></li><li><a href="#activity-10-create-seeds" class="table-of-contents__link toc-highlight">Activity 10: Create seeds</a></li><li><a href="#activity-11-create-documentations" class="table-of-contents__link toc-highlight">Activity 11: Create documentations</a></li><li><a href="#activity-12-materialized-view" class="table-of-contents__link toc-highlight">Activity 12: Materialized View</a></li><li><a href="#project-outputs" class="table-of-contents__link toc-highlight">Project outputs</a><ul><li><a href="#docs" class="table-of-contents__link toc-highlight">Docs</a></li><li><a href="#dag" class="table-of-contents__link toc-highlight">Dag</a></li><li><a href="#database" class="table-of-contents__link toc-highlight">Database</a></li></ul></li><li><a href="#files" class="table-of-contents__link toc-highlight">Files</a></li><li><a href="#notebooks" class="table-of-contents__link toc-highlight">Notebooks</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Bootcamp. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1db50233.js"></script>
<script src="/assets/js/main.c578965a.js"></script>
</body>
</html>