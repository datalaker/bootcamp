<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-data-modeling/designing-scd">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Designing SCDs | Recohut Data Bootcamp</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.recohut.com/docs/data-modeling/designing-scd"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="data science, data engineering, data analytics"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Designing SCDs | Recohut Data Bootcamp"><meta data-rh="true" name="description" content="Whereas operational source systems contain only the latest version of master data, the star schema enables time travel queries to reproduce dimension attribute values on past dates when the fact transaction or event actually happened. The star schema data model allows analytical users to query historical data tying metrics to corresponding dimensional attribute values over time. Time travel is possible because dimension tables contain the exact version of the associated attributes at different time ranges. Relative to the metrics data that keeps changing on a daily or even hourly basis, the dimension attributes change less frequently. Therefore, dimensions in a star schema that keeps track of changes over time are referred to as slowly changing dimensions (SCDs)."><meta data-rh="true" property="og:description" content="Whereas operational source systems contain only the latest version of master data, the star schema enables time travel queries to reproduce dimension attribute values on past dates when the fact transaction or event actually happened. The star schema data model allows analytical users to query historical data tying metrics to corresponding dimensional attribute values over time. Time travel is possible because dimension tables contain the exact version of the associated attributes at different time ranges. Relative to the metrics data that keeps changing on a daily or even hourly basis, the dimension attributes change less frequently. Therefore, dimensions in a star schema that keeps track of changes over time are referred to as slowly changing dimensions (SCDs)."><link data-rh="true" rel="icon" href="/img/branding/favicon-black.svg"><link data-rh="true" rel="canonical" href="https://www.recohut.com/docs/data-modeling/designing-scd"><link data-rh="true" rel="alternate" href="https://www.recohut.com/docs/data-modeling/designing-scd" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.recohut.com/docs/data-modeling/designing-scd" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Recohut Data Bootcamp RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Recohut Data Bootcamp Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B4S1B1ZDTT"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B4S1B1ZDTT",{})</script><link rel="stylesheet" href="/assets/css/styles.47c7b9d5.css">
<link rel="preload" href="/assets/js/runtime~main.251db5a0.js" as="script">
<link rel="preload" href="/assets/js/main.1462881d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/branding/favicon-color.svg" alt="Recohut Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/branding/favicon-color.svg" alt="Recohut Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Bootcamp</b></a><a class="navbar__item navbar__link" href="/docs/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/sparsh-ai/recohut" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/foundations/basics/de-basics">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/foundations/cloud/cloud-basics">Cloud Computing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/foundations/language/sql/sql-basics">Programming</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/storage/serialization">Data Storage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/processing/databricks">Data Processing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/data-modeling/sql-data-modeling">Data Modeling</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/data-modeling/sql-data-modeling">SQL Data Modeling</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-modeling/sql-data-modeling">SQL Data Modeling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-modeling/inmon-vs-kimball">Inmon versus the Kimball data model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-modeling/data-modeling-stages">Stages of Data Modeling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-modeling/3nf-data-modeling">3NF/ Relational Modeling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-modeling/dimensional-modeling">Dimensional Modeling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-modeling/data-vault-modeling">Data Vault Modeling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-modeling/data-modeling-steps">Steps of Building Data Models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/data-modeling/designing-scd">Designing SCDs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-modeling/designing-incremental-loading">Designing for incremental loading</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-modeling/data-warehousing">Data Warehousing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-modeling/normalization-vs-denormalization">Normalization vs Denormalization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-modeling/cap-theorem">CAP Theorem</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-modeling/quiz">Quiz</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-modeling/lab-airbnb-postgres-datamodel">Lab: AirBnB Postgres Datamodel</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/data-modeling/nosql-data-modeling">NoSQL Data Modeling</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/extraction/api">Data Extraction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/orchestration/airflow">Data Pipelines</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/visualization/flask">Data Visualization</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/devops">DevOps</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/mathematics">Mathematics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/foundations/basics/origin">Data Science</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/casestudies/99group">Extras</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Data Modeling</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">SQL Data Modeling</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Designing SCDs</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Designing SCDs</h1><p>Whereas operational source systems contain only the latest version of <a href="https://en.wikipedia.org/wiki/Master_data" target="_blank" rel="noopener noreferrer">master data</a>, the star schema enables time travel queries to reproduce dimension attribute values on past dates when the fact transaction or event actually happened. The star schema data model allows analytical users to query historical data tying metrics to corresponding dimensional attribute values over time. Time travel is possible because dimension tables contain the exact version of the associated attributes at different time ranges. Relative to the metrics data that keeps changing on a daily or even hourly basis, the dimension attributes change less frequently. Therefore, dimensions in a star schema that keeps track of changes over time are referred to as <a href="https://en.wikipedia.org/wiki/Slowly_changing_dimension" target="_blank" rel="noopener noreferrer">slowly changing dimensions</a> (SCDs).</p><p>SCDs refer to data in dimension tables that changes slowly over time and not at a regular cadence. A common example for SCDs is customer profiles—for example, an email address or the phone number of a customer doesn&#x27;t change that often, and these are perfect candidates for SCD.</p><p>Here are some of the main aspects we will need to consider while designing an SCD:</p><ul><li>Should we keep track of the changes? If yes, how much of the history should we maintain?</li><li>Or, should we just overwrite the changes and ignore the history?</li></ul><p>Based on our requirements for maintaining the history, there are about seven ways in which we can accomplish keeping track of changes. They are named SCD1, SCD2, SCD3, and so on, up to SCD7.</p><p>Among these, SCD1, SCD2, SCD3, SCD4, and SCD6 are the most important ones.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="designing-scd1">Designing SCD1<a class="hash-link" href="#designing-scd1" title="Direct link to heading">​</a></h2><p>In SCD type 1, the values are overwritten and no history is maintained, so once the data is updated, there is no way to find out what the previous value was. The new queries will always return the most recent value. Here is an example of an SCD1 table:</p><table><thead><tr><th>Customer ID</th><th>Name</th><th>City</th><th>Email</th><th>...</th></tr></thead><tbody><tr><td>1</td><td>Adam</td><td>New York</td><td>Adam</td><td>...</td></tr></tbody></table><table><thead><tr><th>Customer ID</th><th>Name</th><th>City</th><th>Email</th><th>...</th></tr></thead><tbody><tr><td>1</td><td>Adam</td><td>New Jersey</td><td>Adam</td><td>...</td></tr></tbody></table><p>In this example, the value of the City column is changing from New York to New Jersey. The value just gets overwritten.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="designing-scd2">Designing SCD2<a class="hash-link" href="#designing-scd2" title="Direct link to heading">​</a></h2><p>In SCD2, we maintain a complete history of changes. Every time there is a change, we add a new row with all the details without deleting the previous values. There are multiple ways in which we can accomplish this. Let&#x27;s take a look at the most common approaches.</p><p><strong>Using a flag</strong></p><p>In this approach, we use a flag to indicate if a particular value is active or if it is current. Here is an example of this:</p><table><thead><tr><th>SurrogateID</th><th>CustomerID</th><th>Name</th><th>City</th><th>isActive</th><th>...</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>Adam</td><td>New York</td><td>True</td><td>...</td></tr></tbody></table><table><thead><tr><th>SurrogateID</th><th>CustomerID</th><th>Name</th><th>City</th><th>isActive</th><th>...</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>Adam</td><td>New York</td><td>False</td><td>...</td></tr><tr><td>2</td><td>1</td><td>Adam</td><td>New Jersey</td><td>False</td><td>...</td></tr><tr><td>3</td><td>1</td><td>Adam</td><td>Miami</td><td>True</td><td>...</td></tr></tbody></table><p>In the second table, every time there is a change, we add a new row and update the isActive column of the previous rows to False. That way, we can easily query the active values by filtering on the isActive=True criteria.</p><p>NOTE</p><blockquote><p>Surrogate keys are secondary row identification keys. They are added in all SCD2 cases because the primary identification key will not be unique anymore with newly added rows.</p></blockquote><p><strong>Using version numbers</strong></p><p>In this approach, we use version numbers to keep track of changes. The row with the highest version is the most current value. Here is an example of this:</p><table><thead><tr><th>SurrogateID</th><th>CustomerID</th><th>Name</th><th>City</th><th>Version</th><th>...</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>Adam</td><td>New York</td><td>0</td><td>...</td></tr></tbody></table><table><thead><tr><th>SurrogateID</th><th>CustomerID</th><th>Name</th><th>City</th><th>Version</th><th>...</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>Adam</td><td>New York</td><td>0</td><td>...</td></tr><tr><td>2</td><td>1</td><td>Adam</td><td>New Jersey</td><td>1</td><td>...</td></tr><tr><td>3</td><td>1</td><td>Adam</td><td>Miami</td><td>2</td><td>...</td></tr></tbody></table><p>In the previous example, we need to filter on the MAX(Version) column to get the current values.</p><p><strong>Using date ranges</strong></p><p>In this approach, we use date ranges to show the period a particular record (row) was active, as illustrated in the following example:</p><table><thead><tr><th>SurrogateID</th><th>CustomerID</th><th>Name</th><th>City</th><th>StartDate</th><th>EndDate</th><th>...</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>Adam</td><td>New York</td><td>01-Jan-2020</td><td>NULL</td><td>...</td></tr></tbody></table><table><thead><tr><th>SurrogateID</th><th>CustomerID</th><th>Name</th><th>City</th><th>StartDate</th><th>EndDate</th><th>...</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>Adam</td><td>New York</td><td>01-Jan-2020</td><td>25-Mar-2020</td><td>...</td></tr><tr><td>2</td><td>1</td><td>Adam</td><td>New Jersey</td><td>25-Mar-2020</td><td>01-Dec-2020</td><td>...</td></tr><tr><td>3</td><td>1</td><td>Adam</td><td>Miami</td><td>01-Dec-2020</td><td>NULL</td><td>...</td></tr></tbody></table><p>In the previous example, every time we change a field, we add a new record to the table. Along with that, we update the EndDate column of the previous record and the StartDate column for the new record with today&#x27;s date. In order to fetch the current record, we have to filter on the EndDate=NULL criteria, or, instead, we could just fill in a very futuristic date instead of NULL—something such as 31-Dec-2100.</p><p>As a variation to the date-range approach, we could also add a flag column to easily identify active or current records. The following example shows this approach:</p><table><thead><tr><th>SurrogateID</th><th>CustomerID</th><th>Name</th><th>City</th><th>StartDate</th><th>EndDate</th><th>isActive</th><th>...</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>Adam</td><td>New York</td><td>01-Jan-2020</td><td>25-Mar-2020</td><td>False</td><td>...</td></tr><tr><td>2</td><td>1</td><td>Adam</td><td>New Jersey</td><td>25-Mar-2020</td><td>01-Dec-2020</td><td>False</td><td>...</td></tr><tr><td>3</td><td>1</td><td>Adam</td><td>Miami</td><td>01-Dec-2020</td><td>NULL</td><td>True</td><td>...</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="designing-scd3">Designing SCD3<a class="hash-link" href="#designing-scd3" title="Direct link to heading">​</a></h2><p>In SCD3, we maintain only a partial history and not a complete history. Instead of adding additional rows, we add an extra column that stores the previous value, so only one version of historic data will be preserved. As with the SCD2 option, here again, we can choose to add date columns to keep track of modified dates, but we don&#x27;t need surrogate keys in this case as the identification key of the record doesn&#x27;t change. Here is an example of this:</p><table><thead><tr><th>CustomerID</th><th>Name</th><th>City</th><th>PrevCity</th><th>...</th></tr></thead><tbody><tr><td>1</td><td>Adam</td><td>New York</td><td>NULL</td><td>...</td></tr></tbody></table><table><thead><tr><th>CustomerID</th><th>Name</th><th>City</th><th>PrevCity</th><th>...</th></tr></thead><tbody><tr><td>1</td><td>Adam</td><td>New Jersey</td><td>New York</td><td>...</td></tr></tbody></table><p>In the previous example, we have added a new column called PrevCity. Every time the value of City changes, we add the previous value to PrevCity and update the City column with the current city.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="designing-scd4">Designing SCD4<a class="hash-link" href="#designing-scd4" title="Direct link to heading">​</a></h2><p>SCD4 was introduced for dimension attributes that change relatively frequently. In type 4, we split the fast-changing attributes of the dimension table into another smaller dimension table and also reference the new dimension table directly from the fact table.</p><p>For example, in the following diagram, if we assume that the carpool (also known as High occupancy vehicles) pass needs to be purchased every month, we can move that field to a smaller mini-dimension and reference it directly from the fact table:</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/62965911/218293241-5d41063b-5dc9-45ac-bcf7-77c9fc41532b.jpeg" alt="B17525_04_009" class="img_ev3q"></p><p>We can split the table into a mini DimCarPool dimension, as in the following diagram:</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/62965911/218293244-d9892da4-f4cf-4010-8188-f040f0d5d784.jpeg" alt="B17525_04_010" class="img_ev3q"></p><p>This sub-division helps in modifying only a smaller amount of data frequently instead of the complete row.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="designing-scd5-scd6-and-scd7">Designing SCD5, SCD6, and SCD7<a class="hash-link" href="#designing-scd5-scd6-and-scd7" title="Direct link to heading">​</a></h2><p>The rest of the SCDs—SCD5, SCD6, and SCD7—are derivatives of the previous four SCDs. Among these derived ones, SCD6 is a relatively important one, so we will be exploring that as part of the next sub-section.</p><p><strong>Designing SCD6</strong></p><p>Type 6 is a combination of 1, 2, and 3. In this type, along with the addition of new rows, we also update the latest value in all the rows, as illustrated below:</p><table><thead><tr><th>SurrogateID</th><th>CustomerID</th><th>Name</th><th>CurrCity</th><th>PrevCity</th><th>StartDate</th><th>EndDate</th><th>isActive</th><th>...</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>Adam</td><td>Miami</td><td>NULL</td><td>01-Jan-2020</td><td>25-Mar-2020</td><td>False</td><td>...</td></tr><tr><td>2</td><td>1</td><td>Adam</td><td>Miami</td><td>New York</td><td>25-Mar-2020</td><td>01-Dec-2020</td><td>False</td><td>...</td></tr><tr><td>3</td><td>1</td><td>Adam</td><td>Miami</td><td>New Jersey</td><td>01-Dec-2020</td><td>NULL</td><td>True</td><td>...</td></tr></tbody></table><p>In the previous example, you would have noticed that the CurrCity value for all the records belonging to customer Adam has been updated. This is just another benefit of extracting the latest values.</p><p>That explains SCD type 6. If you are interested in learning about SCDs 5 and 7, you can find more information at the following links:</p><p>SCD5: <a href="https://www.kimballgroup.com/data-warehouse-business-intelligence-resources/kimball-techniques/dimensional-modeling-techniques/type-5/" target="_blank" rel="noopener noreferrer">https://www.kimballgroup.com/data-warehouse-business-intelligence-resources/kimball-techniques/dimensional-modeling-techniques/type-5/</a></p><p>SCD7: <a href="https://www.kimballgroup.com/data-warehouse-business-intelligence-resources/kimball-techniques/dimensional-modeling-techniques/type-7" target="_blank" rel="noopener noreferrer">https://www.kimballgroup.com/data-warehouse-business-intelligence-resources/kimball-techniques/dimensional-modeling-techniques/type-7</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-04-09T13:34:30.000Z">Apr 9, 2023</time></b> by <b>sparsh</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/data-modeling/data-modeling-steps"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Steps of Building Data Models</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/data-modeling/designing-incremental-loading"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Designing for incremental loading</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#designing-scd1" class="table-of-contents__link toc-highlight">Designing SCD1</a></li><li><a href="#designing-scd2" class="table-of-contents__link toc-highlight">Designing SCD2</a></li><li><a href="#designing-scd3" class="table-of-contents__link toc-highlight">Designing SCD3</a></li><li><a href="#designing-scd4" class="table-of-contents__link toc-highlight">Designing SCD4</a></li><li><a href="#designing-scd5-scd6-and-scd7" class="table-of-contents__link toc-highlight">Designing SCD5, SCD6, and SCD7</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Bootcamp. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.251db5a0.js"></script>
<script src="/assets/js/main.1462881d.js"></script>
</body>
</html>