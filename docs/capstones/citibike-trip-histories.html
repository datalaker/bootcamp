<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-capstones/citibike-trip-histories/README">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Citi Bike Trip Histories | Recohut Data Bootcamp</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.recohut.com/docs/capstones/citibike-trip-histories"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="data science, data engineering, data analytics"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Citi Bike Trip Histories | Recohut Data Bootcamp"><meta data-rh="true" name="description" content="The goal of this capstone is to build an end-to-end data pipeline:"><meta data-rh="true" property="og:description" content="The goal of this capstone is to build an end-to-end data pipeline:"><link data-rh="true" rel="icon" href="/img/branding/favicon-black.svg"><link data-rh="true" rel="canonical" href="https://www.recohut.com/docs/capstones/citibike-trip-histories"><link data-rh="true" rel="alternate" href="https://www.recohut.com/docs/capstones/citibike-trip-histories" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.recohut.com/docs/capstones/citibike-trip-histories" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Recohut Data Bootcamp RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Recohut Data Bootcamp Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B4S1B1ZDTT"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B4S1B1ZDTT",{})</script><link rel="stylesheet" href="/assets/css/styles.099cbecb.css">
<link rel="preload" href="/assets/js/runtime~main.1db50233.js" as="script">
<link rel="preload" href="/assets/js/main.c578965a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/branding/favicon-color.svg" alt="Recohut Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/branding/favicon-color.svg" alt="Recohut Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Bootcamp</b></a><a class="navbar__item navbar__link" href="/docs/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/sparsh-ai/recohut" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/foundations/cloud/cloud-computing">Cloud Computing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cloud Computing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/foundations/language/sql/sql-basics">Programming</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/storage/serialization">Data Storage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/processing/databricks">Data Processing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/data-modeling">Data Modeling</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data Modeling&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/extraction/api">Data Extraction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/orchestration/airflow">Data Pipelines</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/visualization/flask">Data Visualization</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/devops">DevOps</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/mathematics">Mathematics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Mathematics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/foundations/basics/origin">Data Science</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/category/case-studies">Extras</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/case-studies">Case Studies</a><button aria-label="Toggle the collapsible sidebar category &#x27;Case Studies&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/capstones">Capstones</a><button aria-label="Toggle the collapsible sidebar category &#x27;Capstones&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/ServerlessStreamingApp">Serverless Streaming Data on AWS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/acled">ACLED</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/capstones/citibike-trip-histories">Citi Bike Trip Histories</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/city-pollution">Air Pollution Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/city-traffic-drone">Airflow - City Traffic Drone</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/climate">Global Historical Climatology Network Daily Data Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/cloudmaze">Building End to end data pipeline in AWS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/dbt-redshift">README</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/digitalskola">DigitalSkola</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/disaster-response">Disaster Response Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/funflix">Funflix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/hmc">Datalake Schema Correction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/kinesis-flink-beam">Log Analytics and Processing in Real-Time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/kinesis-flink-etl">Streaming ETL pipeline with Apache Flink and Amazon Kinesis Data Analytics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/kortex">Kortex</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/lufthansa">Lufthansa API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/movie-sentiment">Movie Review Sentiment Analysis Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/multi-touch-attribution">Multi-touch Attribution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/recofront">Building Recommender System from Scratch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/reddit">Reddit Submissions, Authors and Subreddits analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/redshield">AWS Kafka and DynamoDB for real time fraud detection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/robust-data-pipeline">Data Pipeline with dbt, Airflow and Great Expectations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/smartcity">Smartcity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/sparkify">Sparkify</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/spotify">Spotify</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/twitter-sentiment-glue">Twitter data Topic Analysis and Realtime Sentiment Analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/capstones/us-immigration">US Immigration analysis and data pipeline</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/interviewprep">Interview Preparation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/interviewprep/resume-buildup">Resume Buildup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/misc/resources">Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/misc/extras">Extras</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Extras</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/capstones"><span itemprop="name">Capstones</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Citi Bike Trip Histories</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Citi Bike Trip Histories</h1><p>The goal of this capstone is to build an end-to-end data pipeline:</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/62965911/215285353-2806974e-59db-4533-9c7b-d6ac33fe9756.png" alt="arch" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="problem-description">Problem description<a class="hash-link" href="#problem-description" title="Direct link to heading">​</a></h2><p>The project is related to Citi Bike trips. Where do Citi Bikers ride? When do they ride? How far do they go? Which stations are most popular? What days of the week are most rides taken on? The provided data will help you discover the answers to these questions and more.</p><p>The key goals of the project are:</p><ul><li>develop a data pipeline that will help to organize data processing in a batch manner (on a monthly basis);</li><li>build analytical dashboard that will make it easy to discern the trends and digest the insights.</li></ul><p>The period of the data processing will cover from 2018 to 2020.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dataset">Dataset<a class="hash-link" href="#dataset" title="Direct link to heading">​</a></h2><p>The initial data of Citi Bike Trip Histories could be found <a href="https://s3.amazonaws.com/tripdata/index.html" target="_blank" rel="noopener noreferrer">here</a> in a compressed format.
It contains information about bikes sharing in different regions of New York.</p><p>The dataset includes the following columns:</p><ul><li>Trip Duration</li><li>Start Time and Date</li><li>Stop Time and Date</li><li>Start Station Name</li><li>End Station Name</li><li>Station ID</li><li>Station Lat/Long</li><li>Bike ID</li><li>User Type (Customer = 24-hour pass or 3-day pass user; Subscriber = Annual Member)</li><li>Gender (0=unknown; 1=male; 2=female)</li><li>Year of Birth</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="technologies">Technologies<a class="hash-link" href="#technologies" title="Direct link to heading">​</a></h2><p>We are going to use the following technologies for this project:</p><ul><li>Cloud: GCP<ul><li>Data Lake (DL): GCS</li><li>Data Warehouse (DWH): BigQuery</li></ul></li><li>Infrastructure as code (IaC): Terraform</li><li>Workflow orchestration: Airflow</li><li>Transforming data: DBT</li><li>Data Visualization: Google Data Studio</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-architecture">Project architecture<a class="hash-link" href="#project-architecture" title="Direct link to heading">​</a></h2><p>The end-to-end data pipeline includes the next steps:</p><ul><li>downloading, processing and uploading of the initial dataset to a DL;</li><li>moving the data from the lake to a DWH;</li><li>transforming the data in the DWH and preparing it for the dashboard;</li><li>dashboard creating.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tutorial">Tutorial<a class="hash-link" href="#tutorial" title="Direct link to heading">​</a></h2><p>This tutorial contains the instructions you need to follow to reproduce the project results.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-pre-requisites">1. Pre-requisites<a class="hash-link" href="#1-pre-requisites" title="Direct link to heading">​</a></h3><p>Make sure you have the following pre-installed components:</p><ul><li><a href="https://cloud.google.com/" target="_blank" rel="noopener noreferrer">GCP account</a></li><li><a href="https://www.terraform.io/downloads" target="_blank" rel="noopener noreferrer">Terraform</a></li><li><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-google-cloud-platform">2. Google Cloud Platform<a class="hash-link" href="#2-google-cloud-platform" title="Direct link to heading">​</a></h3><p>To set up GCP, please follow the steps below:</p><ol><li>If you don&#x27;t have a GCP account, please create a free trial.</li><li>Setup new project and write down your Project ID.</li><li>Configure service account to get access to this project and download auth-keys (.json). Please check the service
account has all the permissions below:<ul><li>Viewer</li><li>Storage Admin</li><li>Storage Object Admin</li><li>BigQuery Admin</li></ul></li><li>Download <a href="https://cloud.google.com/sdk" target="_blank" rel="noopener noreferrer">SDK</a> for local setup.</li><li>Set environment variable to point to your downloaded auth-keys:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">GOOGLE_APPLICATION_CREDENTIALS</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;&lt;path/to/your/service-account-authkeys&gt;.json&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Refresh token/session, and verify authentication</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcloud auth application-default login</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="6"><li>Enable the following options under the APIs and services section:<ul><li><a href="https://console.cloud.google.com/apis/library/iam.googleapis.com" target="_blank" rel="noopener noreferrer">Identity and Access Management (IAM) API</a></li><li><a href="https://console.cloud.google.com/apis/library/iamcredentials.googleapis.com" target="_blank" rel="noopener noreferrer">IAM service account credentials API</a></li><li><a href="https://console.developers.google.com/apis/api/compute.googleapis.com" target="_blank" rel="noopener noreferrer">Compute Engine API</a> (if you are going to use VM instance)</li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-terraform">3. Terraform<a class="hash-link" href="#3-terraform" title="Direct link to heading">​</a></h3><p>We use Terraform to build and manage GCP infrastructure. Terraform configuration files are located in the separate folder <code>terraform</code>.
There are 3 configuration files:</p><ul><li><code>terraform-version</code> - contains information about the installed version of Terraform;</li><li><a target="_blank" href="/assets/files/variables-f5028cf2d74a0c74f9b8f39e3327c39f.tf">variables.tf</a> - contains variables to make your configuration more dynamic and flexible;</li><li><a target="_blank" href="/assets/files/main-c28753eb0b58feb54d2b63ed3834d15b.tf">main.tf</a> - is a key configuration file consisting of several sections.</li></ul><p><a href="https://github.com/DataTalksClub/data-engineering-zoomcamp/blob/main/week_1_basics_n_setup/1_terraform_gcp/1_terraform_overview.md" target="_blank" rel="noopener noreferrer">Here</a> you can find the detailed description of each section.</p><p>Now you can use the steps below to generate resources inside the GCP:</p><ol><li>Move to the <a href="/docs/capstones/terraform">terraform folder</a> using bash command <code>cd</code>.</li><li>Run <code>terraform init</code> command to initialize the configuration.</li><li>Use <code>terraform plan</code> to match previews local changes against a remote state.</li><li>Apply changes to the cloud with <code>terraform apply</code> command.</li></ol><blockquote><p>Note: In steps 3 and 4 Terraform may ask you to specify the Project ID. Please use the ID that you noted down
earlier at the project setup stage.</p></blockquote><p>If you would like to remove your stack from the Cloud, use the <code>terraform destroy</code> command.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-airflow">4. Airflow<a class="hash-link" href="#4-airflow" title="Direct link to heading">​</a></h3><p>The next steps provide you with the instructions of running Apache Airflow, which will allow you to run the entire
orchestration, taking into account that you have already set up a GCP account.</p><p>You can run Airflow locally using docker-compose. Before running it, please make sure you have at least 5 GB of free RAM.
Alternatively, you can launch Airflow on a virtual machine in GCP (in this case, please refer to <a href="https://www.youtube.com/watch?v=ae-CV2KfoN0&amp;list=PL3MmuxUbc_hJed7dXYoJw8DoCuVHhGEQb&amp;index=16" target="_blank" rel="noopener noreferrer">this video</a>).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="setup">Setup<a class="hash-link" href="#setup" title="Direct link to heading">​</a></h4><p>Go to the <code>airflow</code> subdirectory: here you can find the <code>Dockerfile</code> and the lightweight version
of the <a target="_blank" href="/assets/files/docker-compose-b730ff4715bee191cf1ffe8b15bf8fe9.yaml">docker-compose.yaml</a> file that are required to run Airflow.</p><p>The lightweight version of docker-compose file contains the minimum required set of components to run data pipelines.
The only things you need to specify before launching it are your Project ID (<code>GCP_PROJECT_ID</code>) and Cloud Storage name (<code>GCP_GCS_BUCKET</code>)
in the <a target="_blank" href="/assets/files/docker-compose-b730ff4715bee191cf1ffe8b15bf8fe9.yaml">docker-compose.yaml</a>. Please specify these variables according to your actual GCP setup.</p><p>You can easily run Airflow using the following commands:</p><ul><li><code>docker-compose build</code> to build the image (takes ~15 mins for the first-time);</li><li><code>docker-compose up airflow-init</code> to initialize the Airflow scheduler, DB and other stuff;</li><li><code>docker-compose up</code> to kick up the all the services from the container.</li></ul><p>Now you can launch Airflow UI and run the DAGs.</p><blockquote><p>Note: If you want to stop Airflow, please type <code>docker-compose down</code> command in your terminal.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="running-dags">Running DAGs<a class="hash-link" href="#running-dags" title="Direct link to heading">​</a></h4><p>Open the <a href="http://localhost:8080/" target="_blank" rel="noopener noreferrer">http://localhost:8080/</a> address in your browser and login using <code>airflow</code> username
and <code>airflow</code> password.</p><p>On the DAGs View page you can find three dags:</p><ul><li><code>data_ingestion_to_gcs_dag</code> for downloading data from the source, unpacking and converting it to parquet format and
finally uploading it to the Cloud Storage.</li><li><code>gcs_to_bq_dag</code> to subsequently create an external and then optimized table in BigQuery from the data stored in GCS.</li><li><code>data_transform_dag</code> to prepare data for analytics.</li></ul><p>The first dag is scheduled to run every month, while the second one should be triggered manually. Therefore, you need
to activate the <code>data_ingestion_to_gcs_dag</code> dag first and wait for it to finish uploading data to GCS. And only after
that manually run the <code>gcs_to_bq_dag</code> dag to create tables in DWH. Finally, you can trigger <code>data_transform_dag</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-dbt">5. DBT<a class="hash-link" href="#5-dbt" title="Direct link to heading">​</a></h3><p>We are going to use <a href="https://www.getdbt.com/" target="_blank" rel="noopener noreferrer">dbt</a> for data transformation in DWH and further analytics dashboard development.</p><p>First you will need to create a dbt Cloud account (if you don&#x27;t already have one) using <a href="https://www.getdbt.com/signup/" target="_blank" rel="noopener noreferrer">this link</a>
and connect to your BigQuery by following <a href="https://docs.getdbt.com/docs/dbt-cloud/cloud-configuring-dbt-cloud/cloud-setting-up-bigquery-oauth" target="_blank" rel="noopener noreferrer">these instructions</a>.
You can find more detailed instructions <a href="https://github.com/DataTalksClub/data-engineering-zoomcamp/blob/main/week_4_analytics_engineering/dbt_cloud_setup.md" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Note that:</p><ul><li>you can fork or copy an existing dbt project located in the separate folder <code>dbt</code> and use a link to the forked/copied version if necessary;</li><li>you need to check that BigQuery already has areas (datasets) for staging and production dbt models (<code>citibike_dev</code> and <code>citibike_prod</code> in our case);</li><li>you should modify <a target="_blank" href="/assets/files/profiles-33e4944c517f7abba9ec84bcf6e4df28.yml">profiles.yaml</a> file according to your dataset names and credentials.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-google-data-studio">6. Google Data Studio<a class="hash-link" href="#6-google-data-studio" title="Direct link to heading">​</a></h3><p>When the production models are ready, you can start building a dashboard.</p><p>The <a href="https://datastudio.google.com/s/u5AyaHHljbo" target="_blank" rel="noopener noreferrer">dashboard</a> is built using Google Data Studio. The process of the such dashboard creating in Google Data Studio is described in detail in <a href="https://www.youtube.com/watch?v=39nLTs74A3E&amp;list=PL3MmuxUbc_hJed7dXYoJw8DoCuVHhGEQb&amp;index=43" target="_blank" rel="noopener noreferrer">this video</a>.</p><p>And the final dashboard includes the following diagrams:</p><ul><li>Total trips count</li><li>Average trips duration per month and year</li><li>User type distribution</li><li>Trips count per month and year</li><li>Trips count by start station on the dynamic Google map</li></ul><blockquote><p>Note: To build a Google map you need to create a new geo field <code>start_location</code> based on <code>start_station_latitude</code> and <code>start_station_longitude</code> parameters.</p></blockquote><p><img loading="lazy" src="https://user-images.githubusercontent.com/55026550/161604025-3cacf391-ea00-485d-b42c-623ef363f7aa.png" alt="Citibike-trips" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-04-09T13:34:30.000Z">Apr 9, 2023</time></b> by <b>sparsh</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/capstones/acled"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ACLED</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/capstones/city-pollution"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Air Pollution Pipeline</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#problem-description" class="table-of-contents__link toc-highlight">Problem description</a></li><li><a href="#dataset" class="table-of-contents__link toc-highlight">Dataset</a></li><li><a href="#technologies" class="table-of-contents__link toc-highlight">Technologies</a></li><li><a href="#project-architecture" class="table-of-contents__link toc-highlight">Project architecture</a></li><li><a href="#tutorial" class="table-of-contents__link toc-highlight">Tutorial</a><ul><li><a href="#1-pre-requisites" class="table-of-contents__link toc-highlight">1. Pre-requisites</a></li><li><a href="#2-google-cloud-platform" class="table-of-contents__link toc-highlight">2. Google Cloud Platform</a></li><li><a href="#3-terraform" class="table-of-contents__link toc-highlight">3. Terraform</a></li><li><a href="#4-airflow" class="table-of-contents__link toc-highlight">4. Airflow</a></li><li><a href="#5-dbt" class="table-of-contents__link toc-highlight">5. DBT</a></li><li><a href="#6-google-data-studio" class="table-of-contents__link toc-highlight">6. Google Data Studio</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Bootcamp. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1db50233.js"></script>
<script src="/assets/js/main.c578965a.js"></script>
</body>
</html>