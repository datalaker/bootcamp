<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-capstones/other/patent-analytics/REPORT">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Patent Analytics Data Pipeline | Recohut Data Bootcamp</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.recohut.com/docs/capstones/other/patent-analytics/REPORT"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="data science, data engineering, data analytics"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Patent Analytics Data Pipeline | Recohut Data Bootcamp"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/branding/favicon-black.svg"><link data-rh="true" rel="canonical" href="https://www.recohut.com/docs/capstones/other/patent-analytics/REPORT"><link data-rh="true" rel="alternate" href="https://www.recohut.com/docs/capstones/other/patent-analytics/REPORT" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.recohut.com/docs/capstones/other/patent-analytics/REPORT" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Recohut Data Bootcamp RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Recohut Data Bootcamp Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B4S1B1ZDTT"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B4S1B1ZDTT",{})</script><link rel="stylesheet" href="/assets/css/styles.099cbecb.css">
<link rel="preload" href="/assets/js/runtime~main.40c54d56.js" as="script">
<link rel="preload" href="/assets/js/main.dbd2f5fe.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/branding/favicon-color.svg" alt="Recohut Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/branding/favicon-color.svg" alt="Recohut Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Bootcamp</b></a><a class="navbar__item navbar__link" href="/docs/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/sparsh-ai/recohut" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Patent Analytics Data Pipeline</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="background">Background<a class="hash-link" href="#background" title="Direct link to heading">​</a></h3><p>According to the WIPO definition, a patent is an exclusive right granted for an invention, which is a product or a process that provides, in general, a new way of doing something, or offers a new technical solution to a problem. To get a patent, technical information about the invention must be disclosed to the public in a patent application. By acquiring a patent, the patent owner has the exclusive right to prevent or stop others from commercially exploiting the patent invention.</p><p>Although not all inventions may be patented, it is still worth using patents to indicate the extent of the technological advancement happening in academic and industry settings.</p><p>At the macro level, by analyzing patent data, we could see the technology trends in different decades. We can see which technology is growing and which technology is getting dimmer. We can understand different industry focus in different countries. For example, Taiwan has more patents in semiconductors, US and China have more patents in ICT sectors.</p><p>At the company level, patent analytics play a part in guiding their understanding of their industries. Companies may be interested in who are the key players in their industry, understanding the key development in their industry, understanding what technologies their competitors are patenting, is there any part of their product infringes the patent of other companies, is there any patent they are interested in buying, in which direction should they take for their research, etc</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="objective">Objective<a class="hash-link" href="#objective" title="Direct link to heading">​</a></h3><p>In this project, we are building a data pipeline to process the US patent data from the year 2000 until 2021, totaling slightly more than 5 million records into an analytical database. The analytical database will be used for an interactive dashboard to explore patent data.</p><p>Some analysis that could be done via the dashboard are:</p><p><strong>Global analysis of patent</strong>:</p><ul><li>Number of patents by classification by year</li><li>Top 20 companies with the highest number of patent</li><li>Top 5 companies with the highest number of patents for each classification</li><li>Top 10 keywords for each classification</li></ul><p><strong>Company analysis of patent</strong>:</p><ul><li>Number of patents per year</li><li>Top keywords from their patents over the year</li></ul><p>This is the dashboard we built using AWS QuickSight:</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/33612460/190854889-15b905cd-e409-457d-9de5-9e42b6f1b8aa.gif" alt="dashboard_demo2" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-of-contents">Table of Contents<a class="hash-link" href="#table-of-contents" title="Direct link to heading">​</a></h2><ul><li><a href="#introduction">Introduction</a></li><li><a href="#technologies">Technologies</a></li><li><a href="#project-architecture">Project Architecture</a></li><li><a href="#project-structure">Project Structure</a></li><li><a href="#data-source">Data Source</a></li><li><a href="#data-exploratory">Data Exploratory</a></li><li><a href="#data-pipeline---spark">Data Pipeline - Spark</a></li><li><a href="#orchestration---airflow">Orchestration - Airflow</a></li><li><a href="#getting-started">Getting Started</a></li><li><a href="#future-works">Future Works</a></li><li><a href="#references">References</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="technologies">Technologies<a class="hash-link" href="#technologies" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="apache-spark">Apache Spark<a class="hash-link" href="#apache-spark" title="Direct link to heading">​</a></h3><p>We use Spark as compute engine for the data cleaning, keyword extraction, and ETL due to the size of our data. Spark allows us to process a large amount of data in parallel. In this project, we are using AWS EMR to run the spark job. EMR cluster can be brought up and down as required hence is more cost-effective.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="apache-airflow-233">Apache Airflow 2.3.3<a class="hash-link" href="#apache-airflow-233" title="Direct link to heading">​</a></h3><p>We use Airflow as our orchestration engine to manage the dependencies between one task and the other. For example, run a data quality check after the ETL job is completed. Airflow is run using docker for simplicity.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-redshift">AWS Redshift<a class="hash-link" href="#aws-redshift" title="Direct link to heading">​</a></h3><p>We use Redshift as the analytical database. Redshift is built for data warehouse and supports efficient analytical queries because of its columnar table design and ability to do massively parallel processing with data distributed across various nodes. In addition to that, we choose Redshift because our raw data and EMR cluster reside in AWS. Since they are located in the same infrastructure, the data transfer would be faster.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-s3">AWS S3<a class="hash-link" href="#aws-s3" title="Direct link to heading">​</a></h3><p>We placed our raw data and cleaned data in AWS S3 for easy and fast processing</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="spark-nlp">Spark NLP<a class="hash-link" href="#spark-nlp" title="Direct link to heading">​</a></h3><p>We use Spark NLP Yake Keyword Extraction for extracting the keyword from the patent title and abstract. Yake Keyword Extraction is independent of language and corpus, and it is efficient and fast. Spark NLP libraries are open source NLP libraries for spark application provided by John Snow LABS</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-architecture">Project Architecture<a class="hash-link" href="#project-architecture" title="Direct link to heading">​</a></h2><p><img loading="lazy" src="https://user-images.githubusercontent.com/62965911/215308145-ebb20354-6e4b-4097-9425-0bbe19665bc9.png" alt="architecture.png" class="img_ev3q"></p><p>These are the overview of the steps involved in the data pipeline:</p><ol><li>Copy the data sources from various source systems to S3</li><li>Trigger a spark job at an EMR cluster to clean the raw data and place the cleaned data into partitioned parquet files in S3</li><li>Trigger a spark job at an EMR cluster to extract keywords from cleaned data and put the result in S3</li><li>Trigger a spark job at the EMR cluster to perform ETL from the cleaned data and dump the result in a Redshift table</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-structure">Project Structure<a class="hash-link" href="#project-structure" title="Direct link to heading">​</a></h2><p>The project is structured into 3 main folders:</p><ul><li><code>airflow</code> folder contains all the dags implementation. The folder scripts under <code>dags</code> folder are the pyspark scripts to be submitted to EMR, it is generated from the <code>spark</code> folder.</li><li><code>notebooks</code> folder contains the jupyter notebooks file used for exploration before developing pyspark scripts. All the notebooks except the <code>1_ingest_raw_data.ipynb</code> are pyspark notebooks and are supposed to be run on the Spark cluster.</li><li><code>spark</code> folder contains the pyspark scripts for cleaning data, extracting keywords, and doing ETL jobs and their respective unit tests.</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   .gitignore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   img.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---airflow </span><span class="token comment" style="color:#999988;font-style:italic"># ---- Airflow DAG ----</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   .env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   docker-compose.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---dags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   patent_analytics_dag.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   patent_analytics_drop_create_table_dag.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       countryInfo.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       shapes_simplified_low.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---scripts </span><span class="token comment" style="color:#999988;font-style:italic"># Pyspark scripts to be submitted to EMR. These are to be copied from the spark  folder</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       drop_create_tables.sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---operators</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   check_s3_key_exist_operator.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   download_data_and_put_in_s3_operator.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   __init__.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---task_builder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   build_emr_task.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   job_flow_overrides.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   __init__.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---notebooks </span><span class="token comment" style="color:#999988;font-style:italic"># ---- Notebook file for exploration ----</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   1_ingest_raw_data.ipynb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   2_exploratory_data_analysis.ipynb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   3_b_keyword_extraction_yake.ipynb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   3_data_cleaning.ipynb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   4_etl_to_redshift.ipynb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---spark </span><span class="token comment" style="color:#999988;font-style:italic"># ---- Spark Scripts ----</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   build_dependencies.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   copy_jobs_to_airflow.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   packages.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   Pipfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   Pipfile.lock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---configs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       etl_config.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   logging.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   spark.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   utils.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   __init__.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---jobs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---Data_Cleaning</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       cleaning_assignee_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       cleaning_country_shapes_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       cleaning_inventor_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       cleaning_location_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       cleaning_patent_assignee_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       cleaning_patent_inventor_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       cleaning_patent_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       cleaning_wipo_field_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       cleaning_wipo_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---ETL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       dates_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       details_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       intermediary_patent_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       locations_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       owners_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       patents_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       patent_keywords_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       wipo_classifications_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---Keyword_Extraction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       rank_keyword_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       yake_keyword_extraction_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---tests </span><span class="token comment" style="color:#999988;font-style:italic"># ---- Spark Scripts Unit Test ----</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   common.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   data.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   __init__.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---Data_Cleaning</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   test_cleaning_assignee_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   test_cleaning_country_shapes_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   test_cleaning_inventor_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   test_cleaning_location_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   test_cleaning_patent_assignee_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   test_cleaning_patent_inventor_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   test_cleaning_patent_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   test_cleaning_wipo_field_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   test_cleaning_wipo_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---test_data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">           country_info.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">           country_shapes_cleaned.csv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---ETL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       test_dates_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       test_details_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       test_intermediary_patent_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       test_locations_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       test_owners_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       test_patents_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       test_patent_keywords_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       test_wipo_classifications_etl_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       __init__.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">---Keyword_Extraction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       test_rank_keyword_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       test_yake_keyword_extraction_job.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-source">Data Source<a class="hash-link" href="#data-source" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="patent-data-from-uspto-patentsview">Patent data from USPTO PatentsView<a class="hash-link" href="#patent-data-from-uspto-patentsview" title="Direct link to heading">​</a></h3><ul><li>patent: <a href="https://s3.amazonaws.com/data.patentsview.org/download/patent.tsv.zip" target="_blank" rel="noopener noreferrer">https://s3.amazonaws.com/data.patentsview.org/download/patent.tsv.zip</a></li><li>patent_asignee: <a href="https://s3.amazonaws.com/data.patentsview.org/download/patent_assignee.tsv.zip" target="_blank" rel="noopener noreferrer">https://s3.amazonaws.com/data.patentsview.org/download/patent_assignee.tsv.zip</a></li><li>asignee: <a href="https://s3.amazonaws.com/data.patentsview.org/download/assignee.tsv.zip" target="_blank" rel="noopener noreferrer">https://s3.amazonaws.com/data.patentsview.org/download/assignee.tsv.zip</a></li><li>location: <a href="https://s3.amazonaws.com/data.patentsview.org/download/location.tsv.zip" target="_blank" rel="noopener noreferrer">https://s3.amazonaws.com/data.patentsview.org/download/location.tsv.zip</a></li><li>wipo: <a href="https://s3.amazonaws.com/data.patentsview.org/download/wipo.tsv.zip" target="_blank" rel="noopener noreferrer">https://s3.amazonaws.com/data.patentsview.org/download/wipo.tsv.zip</a></li><li>wipo_field: <a href="https://s3.amazonaws.com/data.patentsview.org/download/wipo_field.tsv.zip" target="_blank" rel="noopener noreferrer">https://s3.amazonaws.com/data.patentsview.org/download/wipo_field.tsv.zip</a></li><li>inventor: <a href="https://s3.amazonaws.com/data.patentsview.org/download/inventor.tsv.zip" target="_blank" rel="noopener noreferrer">https://s3.amazonaws.com/data.patentsview.org/download/inventor.tsv.zip</a></li><li>patent_inventor: <a href="https://s3.amazonaws.com/data.patentsview.org/download/patent_inventor.tsv.zip" target="_blank" rel="noopener noreferrer">https://s3.amazonaws.com/data.patentsview.org/download/patent_inventor.tsv.zip</a></li></ul><p>The data dictionary can be found at <a href="https://patentsview.org/download/data-download-dictionary" target="_blank" rel="noopener noreferrer">https://patentsview.org/download/data-download-dictionary</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="country-shapes-and-country-info-from-geonamesorg">Country Shapes and Country Info from Geonames.org<a class="hash-link" href="#country-shapes-and-country-info-from-geonamesorg" title="Direct link to heading">​</a></h3><ul><li>country latitude and longitude polygon: <a href="http://download.geonames.org/export/dump/shapes_simplified_low.json.zip" target="_blank" rel="noopener noreferrer">http://download.geonames.org/export/dump/shapes_simplified_low.json.zip</a></li><li>country info: <a href="http://download.geonames.org/export/dump/countryInfo.txt" target="_blank" rel="noopener noreferrer">http://download.geonames.org/export/dump/countryInfo.txt</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-exploratory">Data Exploratory<a class="hash-link" href="#data-exploratory" title="Direct link to heading">​</a></h2><p>The data exploratory is performed using pyspark notebook <code>notebooks/2_exploratory_data_analysis.ipynb</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="patent-data">Patent data<a class="hash-link" href="#patent-data" title="Direct link to heading">​</a></h3><ul><li>There are 7,991,058 patents in the data</li><li>The patents were issued from 1976 to 2021</li><li>All the patents were issued in the US</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="patent-assignee-data">Patent assignee data<a class="hash-link" href="#patent-assignee-data" title="Direct link to heading">​</a></h3><ul><li>There are some patents without an assignee</li><li>There are some patents with multiple assignees</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="assignee-data">Assignee data<a class="hash-link" href="#assignee-data" title="Direct link to heading">​</a></h3><ul><li>Some assignees have missing type</li><li>Based on the data dictionary, assignee types range from 1 to 9. If there is 1 appears in front, it signifies part interest</li><li>Some assignees have both organization and individual name</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="location-data">Location data<a class="hash-link" href="#location-data" title="Direct link to heading">​</a></h3><ul><li>Location data have city, state, country, latitude, longitude, county, state_fips, and county_fips, however any of these columns may be null</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wipo-data">wipo data<a class="hash-link" href="#wipo-data" title="Direct link to heading">​</a></h3><ul><li>The data contains the WIPO classification for the patent</li><li>There are some patents with no WIPO classification</li><li>There are some patents with multiple WIPO classifications and the sequence to tell the priority</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wipo-field-data">WIPO field data<a class="hash-link" href="#wipo-field-data" title="Direct link to heading">​</a></h3><ul><li>The data contains the sector and the field of WIPO classification</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="patent-inventor-data">patent inventor data<a class="hash-link" href="#patent-inventor-data" title="Direct link to heading">​</a></h3><ul><li>There are some patents with no inventor data</li><li>There are some patents with multiple inventors</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="inventor-data">inventor data<a class="hash-link" href="#inventor-data" title="Direct link to heading">​</a></h3><ul><li>There are some inventors with no first name</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-pipeline---spark">Data Pipeline - Spark<a class="hash-link" href="#data-pipeline---spark" title="Direct link to heading">​</a></h2><p>The spark project is structured as recommended by <a href="https://github.com/AlexIoannides/pyspark-example-project" target="_blank" rel="noopener noreferrer">https://github.com/AlexIoannides/pyspark-example-project</a></p><p>The spark scripts consist of data cleaning, keyword extraction, and ETL</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-cleaning-steps">Data cleaning steps<a class="hash-link" href="#data-cleaning-steps" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="patent-data-1">Patent data<a class="hash-link" href="#patent-data-1" title="Direct link to heading">​</a></h4><ul><li>Remove the withdrawn patents</li><li>Remove the patents granted before the year of 2000</li><li>Remove columns <code>number</code>, <code>filename</code>, and <code>withdrawn</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="patent-assignee-data-1">Patent assignee data<a class="hash-link" href="#patent-assignee-data-1" title="Direct link to heading">​</a></h4><ul><li>Take only one patent assignee for each patent</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="assignee-data-1">Assignee data<a class="hash-link" href="#assignee-data-1" title="Direct link to heading">​</a></h4><ul><li>Remove the unassigned assignee</li><li>Replace the type from number to string</li><li>Combine the column <code>name_first</code>, <code>name_last</code> and <code>organisation</code> into one column called <code>name</code></li><li>Create a new unique ID based on name and type</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="location-data-1">Location data<a class="hash-link" href="#location-data-1" title="Direct link to heading">​</a></h4><p>We will aggregate the data at the country level, so for the data without a country, we will derive it based on the available data:</p><ul><li>if the state belongs to the US, map the country to the US</li><li>if there is latitude and longitude, infer the country from the latitude and longitude</li><li>Create a new unique ID based on country</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="wipo-data-1">wipo data<a class="hash-link" href="#wipo-data-1" title="Direct link to heading">​</a></h4><ul><li>Only take the WIPO sequence 0 for each patent, meaning take the first classification only</li><li>Only select field <code>patent_id</code> and <code>field_id</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="wipo-field-data-1">wipo field data<a class="hash-link" href="#wipo-field-data-1" title="Direct link to heading">​</a></h4><ul><li>Remove the data whose <code>id</code> starts with &quot;D&quot;</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="patent-inventor-data-1">patent inventor data<a class="hash-link" href="#patent-inventor-data-1" title="Direct link to heading">​</a></h4><ul><li>Take only one patent inventor for each patent</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="inventor-data-1">inventor data<a class="hash-link" href="#inventor-data-1" title="Direct link to heading">​</a></h4><ul><li>Combine the column <code>name_first</code> and <code>name_last</code> into <code>name</code> column</li><li>Assign the <code>type</code> as &quot;individual&quot;</li><li>Create a new unique ID based on the <code>name</code> and <code>type</code></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="keyword-extraction">Keyword extraction<a class="hash-link" href="#keyword-extraction" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="extract-keywords-using-yake-keyword-extraction">Extract keywords using Yake Keyword Extraction<a class="hash-link" href="#extract-keywords-using-yake-keyword-extraction" title="Direct link to heading">​</a></h4><p>In these steps, we process each patent&#x27;s title and abstract through a keyword extraction pipeline which consists of:</p><ul><li>assembling the document</li><li>detecting the sentence</li><li>tokenizing the sentence</li><li>extracting the keyword</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rank-and-take-the-top-10-keywords">Rank and Take the top 10 keywords<a class="hash-link" href="#rank-and-take-the-top-10-keywords" title="Direct link to heading">​</a></h4><ul><li>Extract the keyword and the score</li><li>Rank the score and take the top 10 keywords with the least score.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="etl">ETL<a class="hash-link" href="#etl" title="Direct link to heading">​</a></h3><p>After the data is cleaned, we perform the ETL of the data from S3 to the Redshift table.</p><p>This is the data model of the analytics tables in Redshift:
<img loading="lazy" src="https://user-images.githubusercontent.com/62965911/215308147-a59490cd-6f9b-4cdd-b54c-e935f587bb53.png" alt="data_model.png" class="img_ev3q"></p><p>There are two facts tables:</p><ul><li>Patents</li><li>PatentKeywords</li></ul><p>There are five dimension tables:</p><ul><li>Dates</li><li>Details</li><li>WipoClassifications</li><li>Owners</li><li>Locations</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="patents-table">Patents Table<a class="hash-link" href="#patents-table" title="Direct link to heading">​</a></h4><p>The <code>Patent</code> table is distributed with a key distribution style using the <code>id</code> as the distribution key. The reason we choose this distribution style are:</p><ul><li>In the user query, we will join the table with <code>PatentKeywords</code> using the <code>id</code>, so using <code>id</code> as the distribution key will reduce the need to shuffle the data.</li><li>The patent table size is big, so it&#x27;s not efficient if we distribute it to all the nodes.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="patent-keywords-table">Patent Keywords Table<a class="hash-link" href="#patent-keywords-table" title="Direct link to heading">​</a></h4><p>The <code>PatentKeywords</code> table is also distributed with a key distribution style using the <code>patent_id</code> column as the distribution key. This allows us to perform an efficient join with the <code>patents</code> table.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dates-table">Dates Table<a class="hash-link" href="#dates-table" title="Direct link to heading">​</a></h4><p>The <code>Dates</code> table is distributed with the style <code>ALL</code>. The table size is not big, hence it&#x27;s fine to have some duplicates for the sake of performance.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="owners-table">Owners Table<a class="hash-link" href="#owners-table" title="Direct link to heading">​</a></h4><p>The <code>Owners</code> table is also distributed with the style <code>ALL</code> for the same reason as the <code>dates</code> table</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="locations-table">Locations Table<a class="hash-link" href="#locations-table" title="Direct link to heading">​</a></h4><p>The <code>Locations</code> table is also distributed with the style <code>ALL</code> for the same reason as the <code>dates</code> and <code>owners</code> table.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="wipoclassifications-table">WipoClassifications Table<a class="hash-link" href="#wipoclassifications-table" title="Direct link to heading">​</a></h4><p><code>WipoClassifications</code> table is distributed with style <code>KEY</code> using the <code>wipo_classification_id</code>. In most cases, <code>wipo_classifications_id</code> have the same value as <code>Patents</code> table <code>id</code> field. Hence, it allows us to perform an efficient join between the <code>Patents</code> table and the <code>WipoClassifications</code> table.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="details-table">Details Table<a class="hash-link" href="#details-table" title="Direct link to heading">​</a></h4><p>The <code>Details</code> table is distributed with the style <code>KEY</code> using the <code>detail_id</code>. In most cases, <code>detail_id</code> have the same value as the <code>Patents</code> table <code>id</code> field. Hence, it allows us to perform an efficient join between the <code>Patents</code> table and the <code>Details</code> table.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-dictionary-of-the-analytics-table">Data Dictionary of the Analytics Table<a class="hash-link" href="#data-dictionary-of-the-analytics-table" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="patent-table">Patent Table<a class="hash-link" href="#patent-table" title="Direct link to heading">​</a></h4><table><thead><tr><th>Field</th><th>Definition</th><th>Type</th><th>Example</th></tr></thead><tbody><tr><td>id</td><td>patent number</td><td>string</td><td>9683848</td></tr><tr><td>granted_date</td><td>date when the patent was granted</td><td>date</td><td>10/1/07</td></tr><tr><td>detail_id</td><td>refer to field <code>detail_id</code> in details table</td><td>string</td><td>9683848</td></tr><tr><td>owner_id</td><td>refer to field <code>owner_id</code> in owners table</td><td>string</td><td></td></tr><tr><td>location_id</td><td>refer to field <code>location_id</code> in locations table</td><td>string</td><td></td></tr><tr><td>wipo_classification_id</td><td>refer to field <code>wipo_classification_id</code> in WipoClassifications table</td><td>string</td><td>9683848</td></tr><tr><td>num_claims</td><td>number of claims</td><td>int</td><td>2</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="patentkeywords-table">PatentKeywords Table<a class="hash-link" href="#patentkeywords-table" title="Direct link to heading">​</a></h4><table><thead><tr><th>Field</th><th>Definition</th><th>Type</th><th>Example</th></tr></thead><tbody><tr><td>patent_keyword_id</td><td>unique id for this table</td><td>string</td><td></td></tr><tr><td>patent_id</td><td>patent number</td><td>string</td><td>9683848</td></tr><tr><td>keyword</td><td>keyword extracted from the title and abstract</td><td>string</td><td>semiconductor material</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dates-table-1">Dates Table<a class="hash-link" href="#dates-table-1" title="Direct link to heading">​</a></h4><table><thead><tr><th>Field</th><th>Definition</th><th>Type</th><th>Example</th></tr></thead><tbody><tr><td>date</td><td>date</td><td>date</td><td>10/1/07</td></tr><tr><td>year</td><td>year extracted from the date</td><td>int</td><td>2007</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="details-table-1">Details Table<a class="hash-link" href="#details-table-1" title="Direct link to heading">​</a></h4><table><thead><tr><th>Field</th><th>Definition</th><th>Type</th><th>Example</th></tr></thead><tbody><tr><td>detail_id</td><td>unique id for this table</td><td>string</td><td>3930271</td></tr><tr><td>title</td><td>title of patent</td><td>string</td><td>Golf glove</td></tr><tr><td>abstract</td><td>abstract text of patent</td><td>string</td><td>A golf glove is disclosed...</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="wipoclassifications-table-1">WipoClassifications Table<a class="hash-link" href="#wipoclassifications-table-1" title="Direct link to heading">​</a></h4><table><thead><tr><th>Field</th><th>Definition</th><th>Type</th><th>Example</th></tr></thead><tbody><tr><td>wipo_classification_id</td><td>unique id for this table</td><td>string</td><td>3930271</td></tr><tr><td>sector</td><td>WIPO technology sector title</td><td>string</td><td>Electrical engineering</td></tr><tr><td>field</td><td>WIPO technology field title</td><td>string</td><td>Electrical machinery, apparatus, energy</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="owners-table-1">Owners Table<a class="hash-link" href="#owners-table-1" title="Direct link to heading">​</a></h4><table><thead><tr><th>Field</th><th>Definition</th><th>Type</th><th>Example</th></tr></thead><tbody><tr><td>owner_id</td><td>unique id for this table</td><td>string</td><td></td></tr><tr><td>type</td><td>classification of owner: company, individual, or government</td><td>string</td><td>company</td></tr><tr><td>name</td><td>name of individual or organization</td><td>string</td><td>E-Z Anchor Bolt Template, Inc.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="locations-table-1">Locations Table<a class="hash-link" href="#locations-table-1" title="Direct link to heading">​</a></h4><table><thead><tr><th>Field</th><th>Definition</th><th>Type</th><th>Example</th></tr></thead><tbody><tr><td>location_id</td><td>unique id for this table</td><td>string</td><td></td></tr><tr><td>country</td><td>country associated with the <code>location_id</code></td><td>string</td><td>Germany</td></tr><tr><td>continent</td><td>continent of the country</td><td>string</td><td>EU</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="orchestration---airflow">Orchestration - Airflow<a class="hash-link" href="#orchestration---airflow" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="drop-and-create-table">Drop and Create Table<a class="hash-link" href="#drop-and-create-table" title="Direct link to heading">​</a></h3><p><code>patent_analytics_drop_create_table_dag</code> is used to drop and recreate Redshift table. It is only supposed to be run once.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="patent-analytics-data-pipeline-end-to-end">Patent Analytics Data Pipeline End to End<a class="hash-link" href="#patent-analytics-data-pipeline-end-to-end" title="Direct link to heading">​</a></h3><p><code>patent_analytics_dag</code> runs the end-to-end data pipeline to prepare the data. This is the design of the DAG:</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/62965911/215308143-5e2ded78-4f44-41e8-b371-e4ae294b9030.png" alt="airflow_dag.png" class="img_ev3q"></p><ul><li><code>Begin_execution</code>: Start of the dag</li><li><code>download_raw_patent_data_to_s3</code>: Download the patents&#x27; data from USPTO website to AWS S3</li><li><code>upload_local_raw_data_to_S3</code>: Upload the country shapes and country info from the local folder to AWS S3</li><li><code>check_raw_exists</code>: Check that all the raw data have been successfully uploaded to the AWS S3 bucket</li><li><code>cleaning_emr_task</code>: Trigger an EMR job to clean the data and write the result back to the AWS S3 bucket</li><li><code>check_cleaned_data_exists</code>: Check whether all the cleaned data exists in the AWS S3 bucket</li><li><code>keyword_extraction_erm_task</code>: Trigger an EMR job to extract keywords from patents&#x27; title and abstract and write the result to the AWS S3 bucket</li><li><code>check_keyword_data_exists</code>: Check whether all the keyword extraction data exists in the AWS S3 bucket</li><li><code>etl_emr_task</code>: Trigger an EMR job to run ETL on the cleaned data and write the result to Redshift</li><li><code>check_table_count</code>: Check that each table has at least 10 rows of data to ensure that the write operation was successful.</li><li><code>check_table_data_quality</code>: Check the quality of the data in each table</li><li><code>End_execution</code>: End of the dag</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started">Getting Started<a class="hash-link" href="#getting-started" title="Direct link to heading">​</a></h2><p>Please check respective folders <code>spark</code> and <code>airflow</code> on how to start the project.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-works">Future Works<a class="hash-link" href="#future-works" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-updates">Data Updates<a class="hash-link" href="#data-updates" title="Direct link to heading">​</a></h3><p>In the current design, the data pipeline is triggered manually. In the future, we can schedule the data pipeline to run at regular intervals.
Looking at their release notes, it seems that USPTO patents data was updated every March and September yearly, with the data lag of 3 months behind, but there is no clear indicator on the release date. To be safe, we can schedule the pipeline to run in April and October.
In addition to that, since the raw data is in the form of bulk data (not incremental), we may need to parameterize our pipeline to only process the additional data.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-if-the-data-were-increased-by-100x">What if the data were increased by 100x?<a class="hash-link" href="#what-if-the-data-were-increased-by-100x" title="Direct link to heading">​</a></h3><p>Running the current data pipeline, end-to-end took about 4 hours using Spark Cluster with 1 master node and 2 worker nodes with instance types of <code>m4.xlarge</code>.
If the data size were increased by 100x, we need to:</p><ul><li>Increase the number of worker nodes to speed up the processing</li><li>Increase the driver memory to ensure it can accommodate the data size</li><li>Increase the data partitioning to reduce the data chunk size and improve the parallel processing</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-if-the-data-were-run-on-a-daily-basis-by-7-am">What if the data were run on a daily basis by 7 am?<a class="hash-link" href="#what-if-the-data-were-run-on-a-daily-basis-by-7-am" title="Direct link to heading">​</a></h3><p>If the data need to be refreshed daily for user consumption and the time is sensitive, we need to set up automatic retries if the dag failed and configure airflow to send an alert if the dag fails x number of times. This ensures that we can address the issue promptly.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-if-the-database-needed-to-be-accessed-by-100-people">What If the database needed to be accessed by 100+ people?<a class="hash-link" href="#what-if-the-database-needed-to-be-accessed-by-100-people" title="Direct link to heading">​</a></h3><p>We can scale our database either horizontally or vertically:</p><ul><li>Horizontal scaling means adding more nodes to our database cluster; by doing so, we increase the amount of computing power available to handle user queries</li><li>Vertical scaling means using higher specification nodes in our cluster; by doing so, we increase the resources in each node.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a class="hash-link" href="#references" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="author">Author<a class="hash-link" href="#author" title="Direct link to heading">​</a></h3><ul><li><a href="https://blog.devgenius.io/analyzing-patent-data-using-spark-and-airflow-74a6860b03ac" target="_blank" rel="noopener noreferrer">https://blog.devgenius.io/analyzing-patent-data-using-spark-and-airflow-74a6860b03ac</a></li><li><a href="https://github.com/tjoakarlina/Udacity-Patents-Analytics-Data-Pipeline" target="_blank" rel="noopener noreferrer">https://github.com/tjoakarlina/Udacity-Patents-Analytics-Data-Pipeline</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="about-patent">About Patent<a class="hash-link" href="#about-patent" title="Direct link to heading">​</a></h3><ul><li><a href="https://www.wipo.int/patents/en/" target="_blank" rel="noopener noreferrer">What is a patent?</a></li><li><a href="https://www.wipo.int/edocs/pubdocs/en/wipo-pub-944-2022-en-world-intellectual-property-report-2022.pdf" target="_blank" rel="noopener noreferrer">WIPO Report</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="uspto-patentsview">USPTO PatentsView<a class="hash-link" href="#uspto-patentsview" title="Direct link to heading">​</a></h3><ul><li><a href="https://patentsview.org/" target="_blank" rel="noopener noreferrer">PatentsView</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="geonames-data-on-country-latitude-and-longitude-and-country-information">Geonames (Data on country latitude and longitude and country information)<a class="hash-link" href="#geonames-data-on-country-latitude-and-longitude-and-country-information" title="Direct link to heading">​</a></h3><ul><li><a href="https://www.geonames.org/" target="_blank" rel="noopener noreferrer">Geonames</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="spark-resources">Spark Resources<a class="hash-link" href="#spark-resources" title="Direct link to heading">​</a></h3><ul><li><a href="https://github.com/AlexIoannides/pyspark-example-project" target="_blank" rel="noopener noreferrer">How to structure pyspark project</a></li><li><a href="https://nlp.johnsnowlabs.com/" target="_blank" rel="noopener noreferrer">Spark NLP</a></li><li><a href="https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-spark-redshift.html" target="_blank" rel="noopener noreferrer">Use Spark on Amazon Redshift with connector</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="airflow-resources">Airflow Resources<a class="hash-link" href="#airflow-resources" title="Direct link to heading">​</a></h3><ul><li><a href="https://airflow.apache.org/docs/apache-airflow/stable/start/docker.html" target="_blank" rel="noopener noreferrer">Running airflow using docker</a></li><li><a href="https://www.startdataengineering.com/post/how-to-submit-spark-jobs-to-emr-cluster-from-airflow/" target="_blank" rel="noopener noreferrer">How to submit EMR job from airflow</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="redshift-resources">Redshift Resources<a class="hash-link" href="#redshift-resources" title="Direct link to heading">​</a></h3><ul><li><a href="https://aws.amazon.com/blogs/big-data/amazon-redshift-engineerings-advanced-table-design-playbook-distribution-styles-and-distribution-keys/" target="_blank" rel="noopener noreferrer">Redshift Engineering&#x27;s Advanced Table Design</a></li><li><a href="https://aws.amazon.com/blogs/big-data/scale-amazon-redshift-to-meet-high-throughput-query-requirements/" target="_blank" rel="noopener noreferrer">Scaling Amazon Redshift</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-04-09T13:34:30.000Z">Apr 9, 2023</time></b> by <b>sparsh</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a><ul><li><a href="#background" class="table-of-contents__link toc-highlight">Background</a></li><li><a href="#objective" class="table-of-contents__link toc-highlight">Objective</a></li></ul></li><li><a href="#table-of-contents" class="table-of-contents__link toc-highlight">Table of Contents</a></li><li><a href="#technologies" class="table-of-contents__link toc-highlight">Technologies</a><ul><li><a href="#apache-spark" class="table-of-contents__link toc-highlight">Apache Spark</a></li><li><a href="#apache-airflow-233" class="table-of-contents__link toc-highlight">Apache Airflow 2.3.3</a></li><li><a href="#aws-redshift" class="table-of-contents__link toc-highlight">AWS Redshift</a></li><li><a href="#aws-s3" class="table-of-contents__link toc-highlight">AWS S3</a></li><li><a href="#spark-nlp" class="table-of-contents__link toc-highlight">Spark NLP</a></li></ul></li><li><a href="#project-architecture" class="table-of-contents__link toc-highlight">Project Architecture</a></li><li><a href="#project-structure" class="table-of-contents__link toc-highlight">Project Structure</a></li><li><a href="#data-source" class="table-of-contents__link toc-highlight">Data Source</a><ul><li><a href="#patent-data-from-uspto-patentsview" class="table-of-contents__link toc-highlight">Patent data from USPTO PatentsView</a></li><li><a href="#country-shapes-and-country-info-from-geonamesorg" class="table-of-contents__link toc-highlight">Country Shapes and Country Info from Geonames.org</a></li></ul></li><li><a href="#data-exploratory" class="table-of-contents__link toc-highlight">Data Exploratory</a><ul><li><a href="#patent-data" class="table-of-contents__link toc-highlight">Patent data</a></li><li><a href="#patent-assignee-data" class="table-of-contents__link toc-highlight">Patent assignee data</a></li><li><a href="#assignee-data" class="table-of-contents__link toc-highlight">Assignee data</a></li><li><a href="#location-data" class="table-of-contents__link toc-highlight">Location data</a></li><li><a href="#wipo-data" class="table-of-contents__link toc-highlight">wipo data</a></li><li><a href="#wipo-field-data" class="table-of-contents__link toc-highlight">WIPO field data</a></li><li><a href="#patent-inventor-data" class="table-of-contents__link toc-highlight">patent inventor data</a></li><li><a href="#inventor-data" class="table-of-contents__link toc-highlight">inventor data</a></li></ul></li><li><a href="#data-pipeline---spark" class="table-of-contents__link toc-highlight">Data Pipeline - Spark</a><ul><li><a href="#data-cleaning-steps" class="table-of-contents__link toc-highlight">Data cleaning steps</a></li><li><a href="#keyword-extraction" class="table-of-contents__link toc-highlight">Keyword extraction</a></li><li><a href="#etl" class="table-of-contents__link toc-highlight">ETL</a></li><li><a href="#data-dictionary-of-the-analytics-table" class="table-of-contents__link toc-highlight">Data Dictionary of the Analytics Table</a></li></ul></li><li><a href="#orchestration---airflow" class="table-of-contents__link toc-highlight">Orchestration - Airflow</a><ul><li><a href="#drop-and-create-table" class="table-of-contents__link toc-highlight">Drop and Create Table</a></li><li><a href="#patent-analytics-data-pipeline-end-to-end" class="table-of-contents__link toc-highlight">Patent Analytics Data Pipeline End to End</a></li></ul></li><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting Started</a></li><li><a href="#future-works" class="table-of-contents__link toc-highlight">Future Works</a><ul><li><a href="#data-updates" class="table-of-contents__link toc-highlight">Data Updates</a></li><li><a href="#what-if-the-data-were-increased-by-100x" class="table-of-contents__link toc-highlight">What if the data were increased by 100x?</a></li><li><a href="#what-if-the-data-were-run-on-a-daily-basis-by-7-am" class="table-of-contents__link toc-highlight">What if the data were run on a daily basis by 7 am?</a></li><li><a href="#what-if-the-database-needed-to-be-accessed-by-100-people" class="table-of-contents__link toc-highlight">What If the database needed to be accessed by 100+ people?</a></li></ul></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a><ul><li><a href="#author" class="table-of-contents__link toc-highlight">Author</a></li><li><a href="#about-patent" class="table-of-contents__link toc-highlight">About Patent</a></li><li><a href="#uspto-patentsview" class="table-of-contents__link toc-highlight">USPTO PatentsView</a></li><li><a href="#geonames-data-on-country-latitude-and-longitude-and-country-information" class="table-of-contents__link toc-highlight">Geonames (Data on country latitude and longitude and country information)</a></li><li><a href="#spark-resources" class="table-of-contents__link toc-highlight">Spark Resources</a></li><li><a href="#airflow-resources" class="table-of-contents__link toc-highlight">Airflow Resources</a></li><li><a href="#redshift-resources" class="table-of-contents__link toc-highlight">Redshift Resources</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Bootcamp. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.40c54d56.js"></script>
<script src="/assets/js/main.dbd2f5fe.js"></script>
</body>
</html>